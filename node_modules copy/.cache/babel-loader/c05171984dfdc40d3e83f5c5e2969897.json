{"ast":null,"code":"import _classCallCheck from \"/Users/yuukan/Documents/Projects/control-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/yuukan/Documents/Projects/control-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/yuukan/Documents/Projects/control-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/yuukan/Documents/Projects/control-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/yuukan/Documents/Projects/control-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/yuukan/Documents/Projects/control-react/src/components/CreditList.js\";\n\nimport React, { Component } from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport MaterialTable from 'material-table';\nimport swal from 'sweetalert';\nimport axios from 'axios';\nimport { forwardRef } from 'react';\nimport AddBox from '@material-ui/icons/AddBox';\nimport ArrowUpward from '@material-ui/icons/ArrowUpward';\nimport Check from '@material-ui/icons/Check';\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\nimport ChevronRight from '@material-ui/icons/ChevronRight';\nimport Clear from '@material-ui/icons/Clear';\nimport DeleteOutline from '@material-ui/icons/DeleteOutline';\nimport Edit from '@material-ui/icons/Edit';\nimport FilterList from '@material-ui/icons/FilterList';\nimport FirstPage from '@material-ui/icons/FirstPage';\nimport LastPage from '@material-ui/icons/LastPage';\nimport Remove from '@material-ui/icons/Remove';\nimport SaveAlt from '@material-ui/icons/SaveAlt';\nimport Search from '@material-ui/icons/Search';\nimport ViewColumn from '@material-ui/icons/ViewColumn';\nimport { LocalAtm, Cancel, Star } from '@material-ui/icons/';\nvar tableIcons = {\n  Add: forwardRef(function (props, ref) {\n    return /*#__PURE__*/React.createElement(AddBox, Object.assign({}, props, {\n      ref: ref,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 37\n      }\n    }));\n  }),\n  Check: forwardRef(function (props, ref) {\n    return /*#__PURE__*/React.createElement(Check, Object.assign({}, props, {\n      ref: ref,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 39\n      }\n    }));\n  }),\n  Clear: forwardRef(function (props, ref) {\n    return /*#__PURE__*/React.createElement(Clear, Object.assign({}, props, {\n      ref: ref,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 39\n      }\n    }));\n  }),\n  Delete: forwardRef(function (props, ref) {\n    return /*#__PURE__*/React.createElement(DeleteOutline, Object.assign({}, props, {\n      ref: ref,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 40\n      }\n    }));\n  }),\n  DetailPanel: forwardRef(function (props, ref) {\n    return /*#__PURE__*/React.createElement(ChevronRight, Object.assign({}, props, {\n      ref: ref,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 45\n      }\n    }));\n  }),\n  Edit: forwardRef(function (props, ref) {\n    return /*#__PURE__*/React.createElement(Edit, Object.assign({}, props, {\n      ref: ref,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 38\n      }\n    }));\n  }),\n  Export: forwardRef(function (props, ref) {\n    return /*#__PURE__*/React.createElement(SaveAlt, Object.assign({}, props, {\n      ref: ref,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 40\n      }\n    }));\n  }),\n  Filter: forwardRef(function (props, ref) {\n    return /*#__PURE__*/React.createElement(FilterList, Object.assign({}, props, {\n      ref: ref,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 40\n      }\n    }));\n  }),\n  FirstPage: forwardRef(function (props, ref) {\n    return /*#__PURE__*/React.createElement(FirstPage, Object.assign({}, props, {\n      ref: ref,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 43\n      }\n    }));\n  }),\n  LastPage: forwardRef(function (props, ref) {\n    return /*#__PURE__*/React.createElement(LastPage, Object.assign({}, props, {\n      ref: ref,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 42\n      }\n    }));\n  }),\n  NextPage: forwardRef(function (props, ref) {\n    return /*#__PURE__*/React.createElement(ChevronRight, Object.assign({}, props, {\n      ref: ref,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 42\n      }\n    }));\n  }),\n  PreviousPage: forwardRef(function (props, ref) {\n    return /*#__PURE__*/React.createElement(ChevronLeft, Object.assign({}, props, {\n      ref: ref,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 46\n      }\n    }));\n  }),\n  ResetSearch: forwardRef(function (props, ref) {\n    return /*#__PURE__*/React.createElement(Clear, Object.assign({}, props, {\n      ref: ref,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 45\n      }\n    }));\n  }),\n  Search: forwardRef(function (props, ref) {\n    return /*#__PURE__*/React.createElement(Search, Object.assign({}, props, {\n      ref: ref,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 40\n      }\n    }));\n  }),\n  SortArrow: forwardRef(function (props, ref) {\n    return /*#__PURE__*/React.createElement(ArrowUpward, Object.assign({}, props, {\n      ref: ref,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 43\n      }\n    }));\n  }),\n  ThirdStateCheck: forwardRef(function (props, ref) {\n    return /*#__PURE__*/React.createElement(Remove, Object.assign({}, props, {\n      ref: ref,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 49\n      }\n    }));\n  }),\n  ViewColumn: forwardRef(function (props, ref) {\n    return /*#__PURE__*/React.createElement(ViewColumn, Object.assign({}, props, {\n      ref: ref,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 44\n      }\n    }));\n  })\n};\n\nvar CreditList = /*#__PURE__*/function (_Component) {\n  _inherits(CreditList, _Component);\n\n  function CreditList(props) {\n    var _this2;\n\n    _classCallCheck(this, CreditList);\n\n    _this2 = _possibleConstructorReturn(this, _getPrototypeOf(CreditList).call(this, props));\n    _this2.state = {\n      columns: [{\n        title: 'Fecha',\n        field: 'creado'\n      }, {\n        title: 'Cliente',\n        field: 'CodigoCliente'\n      }, {\n        title: 'Status',\n        field: 'status'\n      }, {\n        title: 'Tipo Pago',\n        field: 'tipo_pago'\n      }, {\n        title: 'Flete',\n        field: 'flete'\n      }, {\n        title: 'Placa Flete',\n        field: 'placa'\n      }]\n    };\n    return _this2;\n  }\n\n  _createClass(CreditList, [{\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var orders = null;\n      if (this.props.orders) orders = this.props.orders; // Show only the anuladas orders\n\n      if (orders) orders = orders.filter(function (key) {\n        return key.status.trim() !== \"Anulado\" && key.status.trim() !== \"Operado\";\n      });\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"main-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Typography, {\n        variant: \"h3\",\n        component: \"h1\",\n        gutterBottom: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 17\n        }\n      }, \"Pendientes de Validaci\\xF3n Cr\\xE9ditos\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"landing-container with-spacing\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 17\n        }\n      }, orders ? /*#__PURE__*/React.createElement(MaterialTable, {\n        icons: tableIcons,\n        columns: this.state.columns,\n        data: orders,\n        title: \"Listado de Pedidos\",\n        options: {\n          pageSize: 20\n        },\n        actions: [function (rowData) {\n          return {\n            icon: function icon() {\n              return /*#__PURE__*/React.createElement(Star, {\n                color: \"secondary\",\n                __self: _this3,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 92,\n                  columnNumber: 53\n                }\n              });\n            },\n            tooltip: 'VIP',\n            hidden: rowData.star === 'N'\n          };\n        }, function (rowData) {\n          return {\n            icon: LocalAtm,\n            tooltip: 'Créditos',\n            onClick: function onClick(event, rowData) {\n              // console.log(rowData);\n              _this3.props.history.push(\"/creditos/\" + rowData.id);\n            },\n            hidden: parseInt(rowData.oid) === 6\n          };\n        }, function (rowData) {\n          return {\n            icon: Cancel,\n            tooltip: 'Anular Orden',\n            onClick: function onClick(event, rowData) {\n              // this.props.history.push(\"/creditos/\" + rowData.id);\n              swal(\"Anular Orden?\", \"Comentario\", {\n                buttons: [\"No\", \"Si\"],\n                icon: \"warning\",\n                content: \"input\"\n              }).then(function (anular) {\n                if (anular !== null) {\n                  var t_ = _this3;\n                  axios.post(_this3.props.url + \"api/cancel-order\", {\n                    id: rowData.id,\n                    user: window.localStorage.getItem('tp_uid'),\n                    comentario: anular\n                  }).then(function () {\n                    // t.setState({ clientes: response.data });\n                    t_.props.load_orders();\n                  }).catch(function (error) {\n                    console.log(error);\n                  });\n                }\n              });\n            }\n          };\n        }],\n        localization: {\n          pagination: {\n            labelDisplayedRows: '{from}-{to} de {count}',\n            labelRowsSelect: 'Filas'\n          },\n          toolbar: {\n            nRowsSelected: '{0} filas(s) seleccionadas',\n            searchPlaceholder: 'Buscar'\n          },\n          header: {\n            actions: 'Acciones'\n          },\n          body: {\n            emptyDataSourceMessage: 'No existen ordenes',\n            filterRow: {\n              filterTooltip: 'Filter'\n            }\n          }\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 29\n        }\n      }) : \"\"));\n    }\n  }]);\n\n  return CreditList;\n}(Component);\n\nexport default CreditList;","map":{"version":3,"sources":["/Users/yuukan/Documents/Projects/control-react/src/components/CreditList.js"],"names":["React","Component","Typography","MaterialTable","swal","axios","forwardRef","AddBox","ArrowUpward","Check","ChevronLeft","ChevronRight","Clear","DeleteOutline","Edit","FilterList","FirstPage","LastPage","Remove","SaveAlt","Search","ViewColumn","LocalAtm","Cancel","Star","tableIcons","Add","props","ref","Delete","DetailPanel","Export","Filter","NextPage","PreviousPage","ResetSearch","SortArrow","ThirdStateCheck","CreditList","state","columns","title","field","orders","filter","key","status","trim","pageSize","rowData","icon","tooltip","hidden","star","onClick","event","history","push","id","parseInt","oid","buttons","content","then","anular","t_","post","url","user","window","localStorage","getItem","comentario","load_orders","catch","error","console","log","pagination","labelDisplayedRows","labelRowsSelect","toolbar","nRowsSelected","searchPlaceholder","header","actions","body","emptyDataSourceMessage","filterRow","filterTooltip"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport MaterialTable from 'material-table';\nimport swal from 'sweetalert';\nimport axios from 'axios';\n\nimport { forwardRef } from 'react';\nimport AddBox from '@material-ui/icons/AddBox';\nimport ArrowUpward from '@material-ui/icons/ArrowUpward';\nimport Check from '@material-ui/icons/Check';\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\nimport ChevronRight from '@material-ui/icons/ChevronRight';\nimport Clear from '@material-ui/icons/Clear';\nimport DeleteOutline from '@material-ui/icons/DeleteOutline';\nimport Edit from '@material-ui/icons/Edit';\nimport FilterList from '@material-ui/icons/FilterList';\nimport FirstPage from '@material-ui/icons/FirstPage';\nimport LastPage from '@material-ui/icons/LastPage';\nimport Remove from '@material-ui/icons/Remove';\nimport SaveAlt from '@material-ui/icons/SaveAlt';\nimport Search from '@material-ui/icons/Search';\nimport ViewColumn from '@material-ui/icons/ViewColumn';\nimport { LocalAtm, Cancel, Star } from '@material-ui/icons/';\n\nconst tableIcons = {\n    Add: forwardRef((props, ref) => <AddBox {...props} ref={ref} />),\n    Check: forwardRef((props, ref) => <Check {...props} ref={ref} />),\n    Clear: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\n    Delete: forwardRef((props, ref) => <DeleteOutline {...props} ref={ref} />),\n    DetailPanel: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\n    Edit: forwardRef((props, ref) => <Edit {...props} ref={ref} />),\n    Export: forwardRef((props, ref) => <SaveAlt {...props} ref={ref} />),\n    Filter: forwardRef((props, ref) => <FilterList {...props} ref={ref} />),\n    FirstPage: forwardRef((props, ref) => <FirstPage {...props} ref={ref} />),\n    LastPage: forwardRef((props, ref) => <LastPage {...props} ref={ref} />),\n    NextPage: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\n    PreviousPage: forwardRef((props, ref) => <ChevronLeft {...props} ref={ref} />),\n    ResetSearch: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\n    Search: forwardRef((props, ref) => <Search {...props} ref={ref} />),\n    SortArrow: forwardRef((props, ref) => <ArrowUpward {...props} ref={ref} />),\n    ThirdStateCheck: forwardRef((props, ref) => <Remove {...props} ref={ref} />),\n    ViewColumn: forwardRef((props, ref) => <ViewColumn {...props} ref={ref} />)\n};\n\nclass CreditList extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            columns: [\n                { title: 'Fecha', field: 'creado' },\n                { title: 'Cliente', field: 'CodigoCliente' },\n                { title: 'Status', field: 'status' },\n                { title: 'Tipo Pago', field: 'tipo_pago' },\n                { title: 'Flete', field: 'flete' },\n                { title: 'Placa Flete', field: 'placa' },\n            ]\n        };\n    }\n\n    render() {\n\n        let orders = null;\n\n        if (this.props.orders) orders = this.props.orders;\n\n        // Show only the anuladas orders\n        if (orders)\n            orders = orders.filter(\n                (key) =>\n                    key.status.trim() !== \"Anulado\" && key.status.trim() !== \"Operado\"\n            );\n\n        return (\n            <div className=\"main-container\">\n                <Typography variant=\"h3\" component=\"h1\" gutterBottom>\n                    Pendientes de Validación Créditos\n                </Typography>\n                <div className=\"landing-container with-spacing\">\n                    {\n                        orders ? (\n                            <MaterialTable\n                                icons={tableIcons}\n                                columns={this.state.columns}\n                                data={orders}\n                                title=\"Listado de Pedidos\"\n                                options={{\n                                    pageSize: 20\n                                }}\n                                actions={[\n                                    rowData => ({\n                                        icon: () => <Star color=\"secondary\" />,\n                                        tooltip: 'VIP',\n                                        hidden: rowData.star === 'N'\n                                    }),\n                                    rowData => ({\n                                        icon: LocalAtm,\n                                        tooltip: 'Créditos',\n                                        onClick: (event, rowData) => {\n                                            // console.log(rowData);\n                                            this.props.history.push(\"/creditos/\" + rowData.id);\n                                        },\n                                        hidden: parseInt(rowData.oid) === 6\n                                    }),\n                                    rowData => ({\n                                        icon: Cancel,\n                                        tooltip: 'Anular Orden',\n                                        onClick: (event, rowData) => {\n                                            // this.props.history.push(\"/creditos/\" + rowData.id);\n                                            swal(\"Anular Orden?\", \"Comentario\", {\n                                                buttons: [\"No\", \"Si\"],\n                                                icon: \"warning\",\n                                                content: \"input\",\n                                            }).then((anular) => {\n                                                if (anular !== null) {\n                                                    let t_ = this;\n                                                    axios.post(this.props.url + \"api/cancel-order\", {\n                                                        id: rowData.id,\n                                                        user: window.localStorage.getItem('tp_uid'),\n                                                        comentario: anular\n                                                    })\n                                                        .then(function () {\n                                                            // t.setState({ clientes: response.data });\n                                                            t_.props.load_orders();\n                                                        })\n                                                        .catch(function (error) {\n                                                            console.log(error);\n                                                        });\n                                                }\n                                            });\n                                        }\n                                    })\n                                ]}\n                                localization={{\n                                    pagination: {\n                                        labelDisplayedRows: '{from}-{to} de {count}',\n                                        labelRowsSelect: 'Filas'\n                                    },\n                                    toolbar: {\n                                        nRowsSelected: '{0} filas(s) seleccionadas',\n                                        searchPlaceholder: 'Buscar'\n                                    },\n                                    header: {\n                                        actions: 'Acciones'\n                                    },\n                                    body: {\n                                        emptyDataSourceMessage: 'No existen ordenes',\n                                        filterRow: {\n                                            filterTooltip: 'Filter'\n                                        }\n                                    }\n\n                                }}\n                            />\n                        ) : \"\"\n                    }\n                </div>\n            </div>\n        );\n    }\n}\nexport default CreditList;"]},"metadata":{},"sourceType":"module"}