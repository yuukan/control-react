{"ast":null,"code":"import _classCallCheck from \"/Users/yuukan/Documents/Projects/control-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/yuukan/Documents/Projects/control-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/yuukan/Documents/Projects/control-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/yuukan/Documents/Projects/control-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/yuukan/Documents/Projects/control-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/yuukan/Documents/Projects/control-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/yuukan/Documents/Projects/control-react/src/components/Programar.js\";\n\nimport React, { Component } from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport MaterialTable from 'material-table';\nimport { Schedule, Cancel, Star } from '@material-ui/icons/';\nimport swal from 'sweetalert';\nimport axios from 'axios';\nimport { forwardRef } from 'react';\nimport AddBox from '@material-ui/icons/AddBox';\nimport ArrowUpward from '@material-ui/icons/ArrowUpward';\nimport Check from '@material-ui/icons/Check';\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\nimport ChevronRight from '@material-ui/icons/ChevronRight';\nimport Clear from '@material-ui/icons/Clear';\nimport DeleteOutline from '@material-ui/icons/DeleteOutline';\nimport Edit from '@material-ui/icons/Edit';\nimport FilterList from '@material-ui/icons/FilterList';\nimport FirstPage from '@material-ui/icons/FirstPage';\nimport LastPage from '@material-ui/icons/LastPage';\nimport Remove from '@material-ui/icons/Remove';\nimport SaveAlt from '@material-ui/icons/SaveAlt';\nimport Search from '@material-ui/icons/Search';\nimport ViewColumn from '@material-ui/icons/ViewColumn';\nvar tableIcons = {\n  Add: forwardRef(function (props, ref) {\n    return /*#__PURE__*/React.createElement(AddBox, Object.assign({}, props, {\n      ref: ref,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 37\n      }\n    }));\n  }),\n  Check: forwardRef(function (props, ref) {\n    return /*#__PURE__*/React.createElement(Check, Object.assign({}, props, {\n      ref: ref,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 39\n      }\n    }));\n  }),\n  Clear: forwardRef(function (props, ref) {\n    return /*#__PURE__*/React.createElement(Clear, Object.assign({}, props, {\n      ref: ref,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 39\n      }\n    }));\n  }),\n  Delete: forwardRef(function (props, ref) {\n    return /*#__PURE__*/React.createElement(DeleteOutline, Object.assign({}, props, {\n      ref: ref,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 40\n      }\n    }));\n  }),\n  DetailPanel: forwardRef(function (props, ref) {\n    return /*#__PURE__*/React.createElement(ChevronRight, Object.assign({}, props, {\n      ref: ref,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 45\n      }\n    }));\n  }),\n  Edit: forwardRef(function (props, ref) {\n    return /*#__PURE__*/React.createElement(Edit, Object.assign({}, props, {\n      ref: ref,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 38\n      }\n    }));\n  }),\n  Export: forwardRef(function (props, ref) {\n    return /*#__PURE__*/React.createElement(SaveAlt, Object.assign({}, props, {\n      ref: ref,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 40\n      }\n    }));\n  }),\n  Filter: forwardRef(function (props, ref) {\n    return /*#__PURE__*/React.createElement(FilterList, Object.assign({}, props, {\n      ref: ref,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 40\n      }\n    }));\n  }),\n  FirstPage: forwardRef(function (props, ref) {\n    return /*#__PURE__*/React.createElement(FirstPage, Object.assign({}, props, {\n      ref: ref,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 43\n      }\n    }));\n  }),\n  LastPage: forwardRef(function (props, ref) {\n    return /*#__PURE__*/React.createElement(LastPage, Object.assign({}, props, {\n      ref: ref,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 42\n      }\n    }));\n  }),\n  NextPage: forwardRef(function (props, ref) {\n    return /*#__PURE__*/React.createElement(ChevronRight, Object.assign({}, props, {\n      ref: ref,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 42\n      }\n    }));\n  }),\n  PreviousPage: forwardRef(function (props, ref) {\n    return /*#__PURE__*/React.createElement(ChevronLeft, Object.assign({}, props, {\n      ref: ref,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 46\n      }\n    }));\n  }),\n  ResetSearch: forwardRef(function (props, ref) {\n    return /*#__PURE__*/React.createElement(Clear, Object.assign({}, props, {\n      ref: ref,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 45\n      }\n    }));\n  }),\n  Search: forwardRef(function (props, ref) {\n    return /*#__PURE__*/React.createElement(Search, Object.assign({}, props, {\n      ref: ref,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 40\n      }\n    }));\n  }),\n  SortArrow: forwardRef(function (props, ref) {\n    return /*#__PURE__*/React.createElement(ArrowUpward, Object.assign({}, props, {\n      ref: ref,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 43\n      }\n    }));\n  }),\n  ThirdStateCheck: forwardRef(function (props, ref) {\n    return /*#__PURE__*/React.createElement(Remove, Object.assign({}, props, {\n      ref: ref,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 49\n      }\n    }));\n  }),\n  ViewColumn: forwardRef(function (props, ref) {\n    return /*#__PURE__*/React.createElement(ViewColumn, Object.assign({}, props, {\n      ref: ref,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 44\n      }\n    }));\n  })\n};\n\nvar Programar = /*#__PURE__*/function (_Component) {\n  _inherits(Programar, _Component);\n\n  function Programar(props) {\n    var _this2;\n\n    _classCallCheck(this, Programar);\n\n    _this2 = _possibleConstructorReturn(this, _getPrototypeOf(Programar).call(this, props));\n    _this2.state = {\n      columns: [{\n        title: 'Fecha Carga',\n        field: 'FechaCarga'\n      }, {\n        title: 'Cliente',\n        field: 'CodigoCliente'\n      }, {\n        title: 'Status',\n        field: 'status'\n      }, {\n        title: 'Planta',\n        field: 'NombrePlanta'\n      }, {\n        title: 'Tipo Pago',\n        field: 'tipo_pago'\n      }, {\n        title: 'Costo Total',\n        field: 'costo',\n        render: function render(rowData) {\n          return \"Q \" + _this2.numFormat(parseFloat(rowData.costo));\n        }\n      }, {\n        title: 'Venta Total',\n        field: 'venta',\n        render: function render(rowData) {\n          return \"Q \" + _this2.numFormat(parseFloat(rowData.venta));\n        }\n      }, {\n        title: 'Código Transporte',\n        field: 'codigoTransporte'\n      }, {\n        title: 'Placa Flete',\n        field: 'placa'\n      }, {\n        title: 'Detalle',\n        field: 'detalle',\n        render: function render(rowData) {\n          return /*#__PURE__*/React.createElement(\"div\", {\n            dangerouslySetInnerHTML: {\n              __html: rowData.detalle\n            },\n            __self: _assertThisInitialized(_assertThisInitialized(_this2)),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 74\n            }\n          });\n        }\n      }]\n    };\n    return _this2;\n  }\n\n  _createClass(Programar, [{\n    key: \"numFormat\",\n    value: function numFormat(num) {\n      return num.toLocaleString('en-US', {\n        minimumFractionDigits: 2,\n        maximumFractionDigits: 2\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var orders = null;\n      if (this.props.orders) orders = this.props.orders; // Show only the anuladas orders\n\n      if (orders) orders = orders.filter(function (key) {\n        return (// key.Programado!==\"1\"\n          key.sid !== \"5\" && key.sid !== \"6\"\n        );\n      });\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"main-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Typography, {\n        variant: \"h3\",\n        component: \"h1\",\n        gutterBottom: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 17\n        }\n      }, \"Pedidos listos para programar\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"landing-container with-spacing\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 17\n        }\n      }, orders ? /*#__PURE__*/React.createElement(MaterialTable, {\n        icons: tableIcons,\n        columns: this.state.columns,\n        data: orders,\n        title: \"Listado de Pedidos\",\n        options: {\n          pageSize: 20\n        },\n        actions: [function (rowData) {\n          return {\n            icon: function icon() {\n              return /*#__PURE__*/React.createElement(Star, {\n                color: \"secondary\",\n                __self: _this3,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 104,\n                  columnNumber: 53\n                }\n              });\n            },\n            tooltip: 'VIP',\n            hidden: rowData.star === 'N'\n          };\n        }, function (rowData) {\n          return {\n            icon: Schedule,\n            tooltip: 'Marcar como Programado',\n            onClick: function onClick(event, rowData) {\n              swal(\"¿Desea marcar como programada?\", \"Comentario\", {\n                buttons: [\"No\", \"Si\"],\n                icon: \"warning\",\n                content: \"input\"\n              }).then(function (subir) {\n                if (subir !== null) {\n                  var t_ = _this3;\n                  axios.post(_this3.props.url + \"api/mark-programmed\", {\n                    id: rowData.id,\n                    user: window.localStorage.getItem('tp_uid'),\n                    comentario: subir\n                  }).then(function (response) {\n                    if (response.data) {\n                      t_.props.load_orders();\n                      swal(\"Exito!\", \"Se marcó la orden como programada.\", {\n                        icon: \"success\"\n                      });\n                    } else {\n                      swal(\"Error\", \"Contactar al Administrador\", {\n                        icon: \"error\"\n                      });\n                    }\n                  }).catch(function (error) {\n                    console.log(error);\n                  });\n                } // console.log(rowData);\n\n              }); // this.props.history.push(\"/creditos/\" + rowData.id);\n            },\n            hidden: parseInt(rowData.oid) === 6\n          };\n        }, function (rowData) {\n          return {\n            icon: Cancel,\n            tooltip: 'Anular Orden',\n            onClick: function onClick(event, rowData) {\n              // this.props.history.push(\"/creditos/\" + rowData.id);\n              swal(\"Anular Orden?\", \"Comentario\", {\n                buttons: [\"No\", \"Si\"],\n                icon: \"warning\",\n                content: \"input\"\n              }).then(function (anular) {\n                if (anular !== null) {\n                  var t_ = _this3;\n                  axios.post(_this3.props.url + \"api/cancel-order\", {\n                    id: rowData.id,\n                    user: window.localStorage.getItem('tp_uid'),\n                    comentario: anular\n                  }).then(function () {\n                    // t.setState({ clientes: response.data });\n                    t_.props.load_orders();\n                  }).catch(function (error) {\n                    console.log(error);\n                  });\n                }\n              });\n            }\n          };\n        }],\n        localization: {\n          pagination: {\n            labelDisplayedRows: '{from}-{to} de {count}',\n            labelRowsSelect: 'Filas'\n          },\n          toolbar: {\n            nRowsSelected: '{0} filas(s) seleccionadas',\n            searchPlaceholder: 'Buscar'\n          },\n          header: {\n            actions: 'Acciones'\n          },\n          body: {\n            emptyDataSourceMessage: 'No existen ordenes',\n            filterRow: {\n              filterTooltip: 'Filter'\n            }\n          }\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 29\n        }\n      }) : \"\"));\n    }\n  }]);\n\n  return Programar;\n}(Component);\n\nexport default Programar;","map":{"version":3,"sources":["/Users/yuukan/Documents/Projects/control-react/src/components/Programar.js"],"names":["React","Component","Typography","MaterialTable","Schedule","Cancel","Star","swal","axios","forwardRef","AddBox","ArrowUpward","Check","ChevronLeft","ChevronRight","Clear","DeleteOutline","Edit","FilterList","FirstPage","LastPage","Remove","SaveAlt","Search","ViewColumn","tableIcons","Add","props","ref","Delete","DetailPanel","Export","Filter","NextPage","PreviousPage","ResetSearch","SortArrow","ThirdStateCheck","Programar","state","columns","title","field","render","rowData","numFormat","parseFloat","costo","venta","__html","detalle","num","toLocaleString","minimumFractionDigits","maximumFractionDigits","orders","filter","key","sid","pageSize","icon","tooltip","hidden","star","onClick","event","buttons","content","then","subir","t_","post","url","id","user","window","localStorage","getItem","comentario","response","data","load_orders","catch","error","console","log","parseInt","oid","anular","pagination","labelDisplayedRows","labelRowsSelect","toolbar","nRowsSelected","searchPlaceholder","header","actions","body","emptyDataSourceMessage","filterRow","filterTooltip"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport MaterialTable from 'material-table';\nimport { Schedule, Cancel, Star } from '@material-ui/icons/';\nimport swal from 'sweetalert';\nimport axios from 'axios';\n\nimport { forwardRef } from 'react';\nimport AddBox from '@material-ui/icons/AddBox';\nimport ArrowUpward from '@material-ui/icons/ArrowUpward';\nimport Check from '@material-ui/icons/Check';\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\nimport ChevronRight from '@material-ui/icons/ChevronRight';\nimport Clear from '@material-ui/icons/Clear';\nimport DeleteOutline from '@material-ui/icons/DeleteOutline';\nimport Edit from '@material-ui/icons/Edit';\nimport FilterList from '@material-ui/icons/FilterList';\nimport FirstPage from '@material-ui/icons/FirstPage';\nimport LastPage from '@material-ui/icons/LastPage';\nimport Remove from '@material-ui/icons/Remove';\nimport SaveAlt from '@material-ui/icons/SaveAlt';\nimport Search from '@material-ui/icons/Search';\nimport ViewColumn from '@material-ui/icons/ViewColumn';\n\nconst tableIcons = {\n    Add: forwardRef((props, ref) => <AddBox {...props} ref={ref} />),\n    Check: forwardRef((props, ref) => <Check {...props} ref={ref} />),\n    Clear: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\n    Delete: forwardRef((props, ref) => <DeleteOutline {...props} ref={ref} />),\n    DetailPanel: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\n    Edit: forwardRef((props, ref) => <Edit {...props} ref={ref} />),\n    Export: forwardRef((props, ref) => <SaveAlt {...props} ref={ref} />),\n    Filter: forwardRef((props, ref) => <FilterList {...props} ref={ref} />),\n    FirstPage: forwardRef((props, ref) => <FirstPage {...props} ref={ref} />),\n    LastPage: forwardRef((props, ref) => <LastPage {...props} ref={ref} />),\n    NextPage: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\n    PreviousPage: forwardRef((props, ref) => <ChevronLeft {...props} ref={ref} />),\n    ResetSearch: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\n    Search: forwardRef((props, ref) => <Search {...props} ref={ref} />),\n    SortArrow: forwardRef((props, ref) => <ArrowUpward {...props} ref={ref} />),\n    ThirdStateCheck: forwardRef((props, ref) => <Remove {...props} ref={ref} />),\n    ViewColumn: forwardRef((props, ref) => <ViewColumn {...props} ref={ref} />)\n};\n\nclass Programar extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            columns: [\n                { title: 'Fecha Carga', field: 'FechaCarga' },\n                { title: 'Cliente', field: 'CodigoCliente' },\n                { title: 'Status', field: 'status' },\n                { title: 'Planta', field: 'NombrePlanta' },\n                { title: 'Tipo Pago', field: 'tipo_pago' },\n                { title: 'Costo Total', field: 'costo',render: rowData => \"Q \"+this.numFormat(parseFloat(rowData.costo)) },\n                { title: 'Venta Total', field: 'venta',render: rowData => \"Q \"+this.numFormat(parseFloat(rowData.venta)) },\n                { title: 'Código Transporte', field: 'codigoTransporte' },\n                { title: 'Placa Flete', field: 'placa' },\n                { title: 'Detalle', field: 'detalle', render: rowData => <div dangerouslySetInnerHTML={{ __html: rowData.detalle }} /> },\n            ]\n        };\n    }\n\n    numFormat(num) {\n        return num.toLocaleString('en-US', {\n            minimumFractionDigits: 2,\n            maximumFractionDigits: 2\n        });\n    }\n\n    render() {\n\n        let orders = null;\n\n        if (this.props.orders) orders = this.props.orders;\n\n        // Show only the anuladas orders\n        if (orders)\n            orders = orders.filter(\n                (key) =>\n                    // key.Programado!==\"1\"\n                    key.sid !== \"5\" && key.sid !== \"6\"\n            );\n\n        return (\n            <div className=\"main-container\">\n                <Typography variant=\"h3\" component=\"h1\" gutterBottom>\n                    Pedidos listos para programar\n                </Typography>\n                <div className=\"landing-container with-spacing\">\n                    {\n                        orders ? (\n                            <MaterialTable\n                                icons={tableIcons}\n                                columns={this.state.columns}\n                                data={orders}\n                                title=\"Listado de Pedidos\"\n                                options={{\n                                    pageSize: 20\n                                }}\n                                actions={[\n                                    rowData => ({\n                                        icon: () => <Star color=\"secondary\" />,\n                                        tooltip: 'VIP',\n                                        hidden: rowData.star === 'N'\n                                    }),\n                                    rowData => ({\n                                        icon: Schedule,\n                                        tooltip: 'Marcar como Programado',\n                                        onClick: (event, rowData) => {\n                                            swal(\"¿Desea marcar como programada?\", \"Comentario\", {\n                                                buttons: [\"No\", \"Si\"],\n                                                icon: \"warning\",\n                                                content: \"input\",\n                                            }).then((subir) => {\n                                                if (subir !== null) {\n                                                    let t_ = this;\n                                                    axios.post(this.props.url + \"api/mark-programmed\", {\n                                                        id: rowData.id,\n                                                        user: window.localStorage.getItem('tp_uid'),\n                                                        comentario: subir\n                                                    })\n                                                        .then(function (response) {\n                                                            if (response.data) {\n                                                                t_.props.load_orders();\n                                                                swal(\"Exito!\", \"Se marcó la orden como programada.\", {\n                                                                    icon: \"success\"\n                                                                });\n                                                            } else {\n                                                                swal(\"Error\", \"Contactar al Administrador\", {\n                                                                    icon: \"error\"\n                                                                });\n                                                            }\n                                                        })\n                                                        .catch(function (error) {\n                                                            console.log(error);\n                                                        });\n                                                }\n                                                // console.log(rowData);\n                                            });\n                                            // this.props.history.push(\"/creditos/\" + rowData.id);\n                                        },\n                                        hidden: parseInt(rowData.oid) === 6\n                                    }),\n                                    rowData => ({\n                                        icon: Cancel,\n                                        tooltip: 'Anular Orden',\n                                        onClick: (event, rowData) => {\n                                            // this.props.history.push(\"/creditos/\" + rowData.id);\n                                            swal(\"Anular Orden?\", \"Comentario\", {\n                                                buttons: [\"No\", \"Si\"],\n                                                icon: \"warning\",\n                                                content: \"input\",\n                                            }).then((anular) => {\n                                                if (anular !== null) {\n                                                    let t_ = this;\n                                                    axios.post(this.props.url + \"api/cancel-order\", {\n                                                        id: rowData.id,\n                                                        user: window.localStorage.getItem('tp_uid'),\n                                                        comentario: anular\n                                                    })\n                                                        .then(function () {\n                                                            // t.setState({ clientes: response.data });\n                                                            t_.props.load_orders();\n                                                        })\n                                                        .catch(function (error) {\n                                                            console.log(error);\n                                                        });\n                                                }\n                                            });\n                                        }\n                                    })\n\n                                ]}\n                                localization={{\n                                    pagination: {\n                                        labelDisplayedRows: '{from}-{to} de {count}',\n                                        labelRowsSelect: 'Filas'\n                                    },\n                                    toolbar: {\n                                        nRowsSelected: '{0} filas(s) seleccionadas',\n                                        searchPlaceholder: 'Buscar'\n                                    },\n                                    header: {\n                                        actions: 'Acciones'\n                                    },\n                                    body: {\n                                        emptyDataSourceMessage: 'No existen ordenes',\n                                        filterRow: {\n                                            filterTooltip: 'Filter'\n                                        }\n                                    }\n\n                                }}\n                            />\n                        ) : \"\"\n                    }\n                </div>\n            </div>\n        );\n    }\n}\nexport default Programar;"]},"metadata":{},"sourceType":"module"}