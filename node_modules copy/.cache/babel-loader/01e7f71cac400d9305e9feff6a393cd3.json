{"ast":null,"code":"import _defineProperty from \"/Users/yuukan/Documents/Projects/control-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/yuukan/Documents/Projects/control-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/yuukan/Documents/Projects/control-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/yuukan/Documents/Projects/control-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/yuukan/Documents/Projects/control-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/yuukan/Documents/Projects/control-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/yuukan/Documents/Projects/control-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/yuukan/Documents/Projects/control-react/src/components/Asignar.js\";\nimport React, { Component } from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport FormControl from '@material-ui/core/FormControl';\nimport esLocale from \"date-fns/locale/es\";\nimport DateFnsUtils from '@date-io/date-fns';\nimport Button from '@material-ui/core/Button';\nimport swal from 'sweetalert';\nimport Select2 from 'react-select';\nimport TextField from '@material-ui/core/TextField';\nimport axios from 'axios';\nimport { MuiPickersUtilsProvider, KeyboardTimePicker, KeyboardDatePicker } from '@material-ui/pickers';\n\nvar Asignar = /*#__PURE__*/function (_Component) {\n  _inherits(Asignar, _Component);\n\n  function Asignar() {\n    var _this;\n\n    _classCallCheck(this, Asignar);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Asignar).call(this));\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleChangeSelect = _this.handleChangeSelect.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleDateChange = _this.handleDateChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.agregarDetalle = _this.agregarDetalle.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.guardarPedido = _this.guardarPedido.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.delete = _this.delete.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.state = {\n      cliente: null,\n      direccion: null,\n      transporte: null,\n      transporte_original: null,\n      producto: null,\n      compartimiento: null,\n      fechaEntrega: null,\n      fechaEntregaOriginal: null,\n      tipoPago: null,\n      fleteAplicado: 0,\n      montoPorGalon: 0,\n      montoPorGalonOriginal: 0,\n      cantidadCompartimientos: 0,\n      cantidad: 0,\n      detalle: [],\n      exclusivo: 0,\n      exclusivoid: 0,\n      comentario: \"\",\n      id: 0,\n      planta: null,\n      planta_original: null,\n      order: null\n    };\n    return _this;\n  }\n\n  _createClass(Asignar, [{\n    key: \"handleChange\",\n    value: function handleChange(event) {\n      this.setState(_defineProperty({}, event.target.name, event.target.value));\n    }\n  }, {\n    key: \"NoResults\",\n    value: function NoResults() {\n      return \"Sin Resultados\";\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete(idx) {\n      // console.log(idx);\n      var detalle = this.state.detalle.slice(0);\n      detalle.splice(idx, 1);\n      this.setState({\n        detalle: detalle,\n        exclusivo: 0,\n        exclusivoid: 0\n      });\n    } //############################################################\n\n  }, {\n    key: \"handleChangeSelect\",\n    value: function handleChangeSelect(option, b) {\n      if (b.name === \"transporte\") {\n        // console.log(option.compartimientos.length, this.state.order.Compartimientos.length);\n        if (option.compartimientos.length < this.state.order.Compartimientos.length) {\n          swal(\"Error\", \"El transporte debe de tener la misma cantidad de compartimientos o más.\", \"error\");\n          return false;\n        }\n      }\n\n      this.setState(_defineProperty({}, b.name, option));\n\n      if (b.name === \"cliente\") {\n        this.setState({\n          direccion: null\n        });\n      }\n\n      if (b.name === \"fleteAplicado\") {\n        this.setState({\n          transporte: null,\n          compartimiento: null,\n          detalle: [],\n          exclusivo: 0,\n          exclusivoid: 0\n        });\n      }\n    }\n  }, {\n    key: \"handleDateChange\",\n    value: function handleDateChange(fechaEntrega) {\n      this.setState({\n        fechaEntrega: fechaEntrega\n      });\n    }\n  }, {\n    key: \"agregarDetalle\",\n    value: function agregarDetalle() {\n      // We check if we have the compartments full\n      if (this.state.cantidadCompartimientos <= this.state.detalle.length && typeof this.fleteAplicado !== 'undefined' && this.fleteAplicado.value === 2) {\n        swal(\"Error\", \"Ya estan ocupados todos los compartimientos del Cisterna!\", \"error\");\n        return;\n      }\n\n      if (this.state.producto === \"\") {\n        swal(\"Error\", \"Debe de seleccionar un producto\", \"error\");\n        return;\n      }\n\n      if (this.state.cantidad === 0 || this.state.cantidad === \"\") {\n        swal(\"Error\", \"Debe agregar la cantidad\", \"error\");\n        return;\n      }\n\n      if (this.state.compartimiento === 0 && this.state.transporte) {\n        swal(\"Error\", \"Debe agregar el compartimiento\", \"error\");\n        return;\n      }\n\n      if (this.state.compartimiento) {\n        if (this.state.cantidad > parseInt(this.state.compartimiento.galones)) {\n          swal(\"Error\", \"El compartimiento no puede recibir más de \" + this.state.compartimiento.galones + \" galones\", \"error\");\n          return;\n        }\n      }\n\n      var row = [];\n      var exclusivo = 0,\n          exclusivoid = 0;\n\n      if (this.state.compartimiento) {\n        row = [this.state.producto.value, this.state.cantidad, this.state.compartimiento.value, this.state.producto.label, this.state.producto.color];\n      } else {\n        row = [this.state.producto.value, this.state.cantidad, 0, this.state.producto.label, this.state.producto.color];\n      }\n\n      var detalle = this.state.detalle.splice(0);\n      detalle.push(row);\n\n      if (this.state.producto.exclusivo === \"si\") {\n        exclusivo = 1;\n        exclusivoid = this.state.producto.value;\n      } else {\n        exclusivo = 2;\n      }\n\n      this.setState({\n        detalle: detalle,\n        producto: \"\",\n        cantidad: 0,\n        compartimiento: 0,\n        exclusivo: exclusivo,\n        exclusivoid: exclusivoid\n      });\n    }\n  }, {\n    key: \"formatAMPM\",\n    value: function formatAMPM(date) {\n      var hours = date.getHours();\n      var minutes = date.getMinutes();\n      var ampm = hours >= 12 ? 'pm' : 'am';\n      hours = hours % 12;\n      hours = hours ? hours : 12; // the hour '0' should be '12'\n\n      minutes = minutes < 10 ? '0' + minutes : minutes;\n      var strTime = hours + ':' + minutes + ' ' + ampm;\n      return strTime;\n    }\n  }, {\n    key: \"guardarPedido\",\n    value: function guardarPedido() {\n      var t_ = this;\n      var t = this.state;\n      axios.post(this.props.url + \"api/assign-order\", {\n        diaEntrega: (\"0\" + t.fechaEntrega.getDate()).slice(-2),\n        mesEntrega: (\"0\" + (t.fechaEntrega.getMonth() + 1)).slice(-2),\n        anioEntrega: t.fechaEntrega.getFullYear(),\n        hora: t.fechaEntrega.getHours(),\n        minutos: t.fechaEntrega.getMinutes(),\n        diaEntregaOriginal: (\"0\" + t.fechaEntregaOriginal.getDate()).slice(-2),\n        mesEntregaOriginal: (\"0\" + (t.fechaEntregaOriginal.getMonth() + 1)).slice(-2),\n        anioEntregaOriginal: t.fechaEntregaOriginal.getFullYear(),\n        horaOriginal: t.fechaEntregaOriginal.getHours(),\n        minutosOriginal: t.fechaEntregaOriginal.getMinutes(),\n        transporte: t.transporte.id,\n        transporte_original: t.transporte_original.id,\n        transporte_label: t.transporte.label,\n        transporte_original_label: t.transporte_original.label,\n        comentario: t.comentario,\n        planta: t.planta.value,\n        planta_original: t.planta_original.value,\n        planta_label: t.planta.label,\n        planta_original_label: t.planta_original.label,\n        id: this.props.match.params.id,\n        montoPorGalon: t.montoPorGalon,\n        montoPorGalonOriginal: t.montoPorGalonOriginal,\n        user: window.localStorage.getItem('tp_uid')\n      }).then(function () {\n        // t.setState({ clientes: response.data });\n        t_.props.load_orders();\n        t_.props.history.push(\"/order-list\");\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      var _this2 = this;\n\n      if (this.props.match.params.id !== this.state.id && this.props.orders.length > 0) {\n        var order = this.props.orders.findIndex(function (x) {\n          return x.id === _this2.props.match.params.id;\n        });\n        order = this.props.orders[order];\n        var id = this.props.match.params.id;\n        this.setState({\n          fechaEntrega: new Date(order.FechaCarga + \" \" + order.HoraCarga),\n          id: id\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var order = null;\n      var flete = null;\n\n      if (this.props.orders) {\n        order = this.props.orders.findIndex(function (x) {\n          return x.id === _this3.props.match.params.id;\n        });\n        order = this.props.orders[order];\n\n        if (typeof order !== \"undefined\") {\n          flete = this.props.fletes.findIndex(function (x) {\n            return x.value === order.flete;\n          });\n          flete = this.props.fletes[flete];\n        }\n      }\n\n      var conts = [];\n\n      if (order && order.flete && flete) {\n        for (var i = 0; i < flete.compartimientos.length; i++) {\n          var filled = 0;\n          var product = \"\";\n          var height = 0;\n          var color = \"transparent\";\n          var CantidadGalones = flete.compartimientos[i].CantidadGalones;\n\n          if (typeof order.Compartimientos[i] !== \"undefined\") {\n            product = order.Compartimientos[i].Nombre;\n            color = order.Compartimientos[i].Color;\n            height = parseInt(order.Compartimientos[i].cantidad) / parseInt(CantidadGalones) * 100;\n          }\n\n          var style = {\n            height: \"\".concat(height, \"%\"),\n            backgroundColor: \"#\".concat(color)\n          };\n          conts.push( /*#__PURE__*/React.createElement(\"div\", {\n            key: \"cont\".concat(i),\n            className: \"cont cont\".concat(i + 1),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 21\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            className: \"number\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 25\n            }\n          }, filled, \" / \", CantidadGalones), /*#__PURE__*/React.createElement(\"div\", {\n            className: \"product\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 25\n            }\n          }, product), /*#__PURE__*/React.createElement(\"div\", {\n            className: \"fill\",\n            style: style,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 25\n            }\n          })));\n        }\n      }\n\n      var comentarios = \"\";\n\n      if (order && order.comentarios.length > 0) {\n        comentarios = order.comentarios.map(function (key, idx) {\n          var da = new Date(key.created_at);\n          return /*#__PURE__*/React.createElement(\"li\", {\n            key: idx,\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 21\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            className: \"date\",\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 25\n            }\n          }, da.getDate(), \"/\", da.getMonth(), \"/\", da.getFullYear(), \" \", _this3.formatAMPM(da)), /*#__PURE__*/React.createElement(\"div\", {\n            className: \"user\",\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 25\n            }\n          }, key.name), /*#__PURE__*/React.createElement(\"div\", {\n            className: \"comment\",\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 25\n            }\n          }, key.comentario));\n        });\n      } // We build the addresses bar\n\n\n      var addresses = [];\n      var c = this.state.cliente;\n\n      if (c) {\n        if (c.address !== \"\") {\n          addresses.push({\n            value: c.address,\n            label: c.address\n          });\n        }\n\n        if (c.MailAddres !== \"\" && c.MailAddres !== c.address) {\n          addresses.push({\n            value: c.MailAddres,\n            label: c.MailAddres\n          });\n        }\n      } // let tipos_pago = [\n      //     { value: 1, label: \"Contado\" },\n      //     { value: 2, label: \"Crédito\" }\n      // ];\n      // let flete_aplicado = [\n      //     { value: 1, label: \"Si\" },\n      //     { value: 2, label: \"No\" }\n      // ];\n      // #################################################\n      // Product Filters\n      // #################################################\n\n\n      var productos = \"\";\n      if (this.props.productos) productos = this.props.productos.slice(0);\n\n      if (this.state.exclusivo === 1) {\n        var p = [];\n\n        for (var _i = 0; _i < productos.length; _i++) {\n          if (this.state.exclusivoid === productos[_i].value) {\n            p.push(productos[_i]);\n          }\n        }\n\n        productos = p;\n      }\n\n      if (this.state.exclusivo === 2) {\n        var _p = [];\n\n        for (var _i2 = 0; _i2 < productos.length; _i2++) {\n          if (productos[_i2].exclusivo === \"\") {\n            _p.push(productos[_i2]);\n          }\n        }\n\n        productos = _p;\n      } // #################################################\n      // Product Filters\n      // #################################################\n\n\n      var tot = 0;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"main-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Typography, {\n        variant: \"h3\",\n        component: \"h1\",\n        gutterBottom: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 17\n        }\n      }, \"Asignar Horario\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"landing-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        spacing: 2,\n        justify: \"space-around\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        md: 3,\n        lg: 3,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(MuiPickersUtilsProvider, {\n        utils: DateFnsUtils,\n        locale: esLocale,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(KeyboardDatePicker, {\n        margin: \"normal\",\n        className: \"full-width\",\n        id: \"mui-pickers-date\",\n        label: \"Fecha de Carga\",\n        value: this.state.fechaEntrega,\n        onChange: this.handleDateChange,\n        KeyboardButtonProps: {\n          'aria-label': 'change date'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 33\n        }\n      }))), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        md: 3,\n        lg: 3,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(MuiPickersUtilsProvider, {\n        utils: DateFnsUtils,\n        locale: esLocale,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(KeyboardTimePicker, {\n        margin: \"normal\",\n        className: \"full-width\",\n        id: \"mui-pickers-time\",\n        label: \"Hora de Carga\",\n        ampm: false,\n        value: this.state.fechaEntrega,\n        onChange: this.handleDateChange,\n        KeyboardButtonProps: {\n          'aria-label': 'Cambiar hora'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 33\n        }\n      }))), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        md: 3,\n        lg: 3,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(FormControl, {\n        variant: \"outlined\",\n        className: \"form-item margin-fix2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(Select2, {\n        value: this.state.planta,\n        isSearchable: true,\n        onChange: this.handleChangeSelect,\n        name: \"planta\",\n        options: this.props.plants,\n        placeholder: \"*Seleccione una planta\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 33\n        }\n      }))), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        md: 3,\n        lg: 3,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        className: \"label\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 391,\n          columnNumber: 29\n        }\n      }, \"Cliente\"), order ? order.CodigoCliente : \"\"), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        md: 3,\n        lg: 3,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 396,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        className: \"label\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 29\n        }\n      }, \"Tipo de Pago\"), order ? order.tipo_pago : \"\"), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        md: 3,\n        lg: 3,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 402,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        className: \"label\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 403,\n          columnNumber: 29\n        }\n      }, \"Direcci\\xF3n\"), order ? order.Direccion : \"\"), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        md: 3,\n        lg: 3,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 408,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(FormControl, {\n        variant: \"outlined\",\n        className: \"form-item small\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 409,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        className: \"label\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 410,\n          columnNumber: 33\n        }\n      }, \"Forma de carga\"), order ? order.FleteAplicado === \"1\" ? \"Ex Rack\" : \"Puesto en el lugar\" : \"\"), /*#__PURE__*/React.createElement(FormControl, {\n        variant: \"outlined\",\n        className: \"form-item small\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 415,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(TextField, {\n        id: \"montoPorGalon\",\n        name: \"montoPorGalon\",\n        label: \"Monto por Gal\\xF3n\",\n        className: \"montoPorGalon\",\n        value: this.state.montoPorGalon,\n        onChange: this.handleChange,\n        margin: \"normal\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 416,\n          columnNumber: 33\n        }\n      }))), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        md: 3,\n        lg: 3,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 427,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        className: \"label\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 428,\n          columnNumber: 29\n        }\n      }, \"Transporte\"), /*#__PURE__*/React.createElement(FormControl, {\n        variant: \"outlined\",\n        className: \"form-item\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 431,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(Select2, {\n        value: this.state.transporte,\n        isSearchable: true,\n        onChange: this.handleChangeSelect,\n        name: \"transporte\",\n        options: this.props.fletes,\n        placeholder: \"Transporte\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 432,\n          columnNumber: 33\n        }\n      }))), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        md: 6,\n        lg: 6,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 442,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(FormControl, {\n        variant: \"outlined\",\n        className: \"form-item\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 443,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        className: \"label\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 444,\n          columnNumber: 33\n        }\n      }, \"Comentario\"), /*#__PURE__*/React.createElement(\"div\", {\n        dangerouslySetInnerHTML: {\n          __html: order ? order.Comentarios : \"\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 447,\n          columnNumber: 33\n        }\n      }))), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        md: 6,\n        lg: 6,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 450,\n          columnNumber: 25\n        }\n      }))), /*#__PURE__*/React.createElement(Typography, {\n        variant: \"h4\",\n        component: \"h2\",\n        gutterBottom: true,\n        className: \"margin-separation\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 453,\n          columnNumber: 17\n        }\n      }, \"Comentarios\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"landing-container padding-bottom-separation\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 456,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        sm: 12,\n        md: 12,\n        lg: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 457,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(FormControl, {\n        variant: \"outlined\",\n        className: \"form-item\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 458,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(TextField, {\n        name: \"comentario\",\n        id: \"comentario\",\n        label: \"Comentario\",\n        multiline: true,\n        rowsMax: \"10\",\n        value: this.state.comentario,\n        onChange: this.handleChange,\n        margin: \"normal\",\n        ref: this.comentario,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 459,\n          columnNumber: 29\n        }\n      }))), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        sm: 12,\n        md: 12,\n        lg: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 472,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"ul\", {\n        className: \"comentarios\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 473,\n          columnNumber: 25\n        }\n      }, comentarios))), /*#__PURE__*/React.createElement(Typography, {\n        variant: \"h4\",\n        component: \"h2\",\n        gutterBottom: true,\n        className: \"margin-separation\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 478,\n          columnNumber: 17\n        }\n      }, \"Detalle de Productos\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"landing-container padding-bottom-separation\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 481,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        spacing: 2,\n        justify: \"space-around\",\n        className: \"padding-top-separation\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 482,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        md: 6,\n        lg: 6,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 483,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        className: \"transporte-title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 484,\n          columnNumber: 29\n        }\n      }, flete ? flete.label : \"\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"cisterna\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 487,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"cisterna-circle\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 488,\n          columnNumber: 33\n        }\n      }, conts)))), /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        spacing: 2,\n        justify: \"space-around\",\n        className: \"margin-separation\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 494,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        md: 2,\n        lg: 2,\n        className: \"th\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 495,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 496,\n          columnNumber: 29\n        }\n      }, \"Producto\")), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        md: 1,\n        lg: 1,\n        className: \"th goCenter\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 498,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 499,\n          columnNumber: 29\n        }\n      }, \"Cantidad\")), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        md: 1,\n        lg: 1,\n        className: \"th goCenter\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 501,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 502,\n          columnNumber: 29\n        }\n      }, \"Compartimiento\")), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        md: 2,\n        lg: 2,\n        className: \"th goRight\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 504,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 505,\n          columnNumber: 29\n        }\n      }, \"Precio\")), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        md: 2,\n        lg: 2,\n        className: \"th goRight\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 507,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 508,\n          columnNumber: 29\n        }\n      }, \"IDP\")), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        md: 2,\n        lg: 2,\n        className: \"th goRight\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 510,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 511,\n          columnNumber: 29\n        }\n      }, \"IVA\")), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        md: 2,\n        lg: 2,\n        className: \"th goRight\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 513,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 514,\n          columnNumber: 29\n        }\n      }, \"Subtotal\")), order && order.Compartimientos.length > 0 ? order.Compartimientos.map(function (key, idx) {\n        tot += parseFloat((key.Precio * key.cantidad).toFixed(2));\n        var subTotal = parseFloat((key.Precio * key.cantidad).toFixed(2));\n        return /*#__PURE__*/React.createElement(React.Fragment, {\n          key: \"p\".concat(idx),\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 521,\n            columnNumber: 37\n          }\n        }, /*#__PURE__*/React.createElement(Grid, {\n          item: true,\n          xs: 6,\n          sm: 6,\n          md: 2,\n          lg: 2,\n          className: \"ch\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 522,\n            columnNumber: 41\n          }\n        }, /*#__PURE__*/React.createElement(\"strong\", {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 523,\n            columnNumber: 45\n          }\n        }, \"Producto\"), key.Nombre), /*#__PURE__*/React.createElement(Grid, {\n          item: true,\n          xs: 6,\n          sm: 6,\n          md: 1,\n          lg: 1,\n          className: \"ch goRight\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 526,\n            columnNumber: 41\n          }\n        }, /*#__PURE__*/React.createElement(\"strong\", {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 527,\n            columnNumber: 45\n          }\n        }, \"Cantidad\"), key.cantidad), /*#__PURE__*/React.createElement(Grid, {\n          item: true,\n          xs: 6,\n          sm: 6,\n          md: 1,\n          lg: 1,\n          className: \"ch goCenter\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 530,\n            columnNumber: 41\n          }\n        }, /*#__PURE__*/React.createElement(\"strong\", {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 531,\n            columnNumber: 45\n          }\n        }, \"Compartimiento\"), key.Compartimiento !== 0 ? key.Compartimiento : \"\"), /*#__PURE__*/React.createElement(Grid, {\n          item: true,\n          xs: 6,\n          sm: 6,\n          md: 2,\n          lg: 2,\n          className: \"ch goRight\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 534,\n            columnNumber: 41\n          }\n        }, /*#__PURE__*/React.createElement(\"strong\", {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 535,\n            columnNumber: 45\n          }\n        }, \"Precio\"), \"Q \", key.Precio), /*#__PURE__*/React.createElement(Grid, {\n          item: true,\n          xs: 6,\n          sm: 6,\n          md: 2,\n          lg: 2,\n          className: \"ch goRight\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 538,\n            columnNumber: 41\n          }\n        }, /*#__PURE__*/React.createElement(\"strong\", {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 539,\n            columnNumber: 45\n          }\n        }, \"IDP\"), \"Q \", key.IDP), /*#__PURE__*/React.createElement(Grid, {\n          item: true,\n          xs: 6,\n          sm: 6,\n          md: 2,\n          lg: 2,\n          className: \"ch goRight\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 542,\n            columnNumber: 41\n          }\n        }, /*#__PURE__*/React.createElement(\"strong\", {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 543,\n            columnNumber: 45\n          }\n        }, \"IVA\"), \"Q \", (key.Precio - (key.Precio - key.IDP) / 1.12).toFixed(2)), /*#__PURE__*/React.createElement(Grid, {\n          item: true,\n          xs: 6,\n          sm: 6,\n          md: 2,\n          lg: 2,\n          className: \"ch goRight\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 546,\n            columnNumber: 41\n          }\n        }, /*#__PURE__*/React.createElement(\"strong\", {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 547,\n            columnNumber: 45\n          }\n        }, \"Subtotal\"), \"Q \", subTotal.toLocaleString('en-US', {\n          minimumFractionDigits: 2,\n          maximumFractionDigits: 2\n        })), /*#__PURE__*/React.createElement(Grid, {\n          item: true,\n          xs: 6,\n          sm: 6,\n          md: 12,\n          lg: 12,\n          className: \"mobile\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 553,\n            columnNumber: 41\n          }\n        }, \"\\xA0\"), /*#__PURE__*/React.createElement(Grid, {\n          item: true,\n          xs: 12,\n          sm: 12,\n          md: 12,\n          lg: 12,\n          className: \"separator\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 556,\n            columnNumber: 41\n          }\n        }, \"\\xA0\"));\n      }) : \"\", /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 6,\n        sm: 6,\n        md: 10,\n        lg: 10,\n        className: \"tot goRight\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 564,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 565,\n          columnNumber: 29\n        }\n      }, \"Total\")), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 6,\n        sm: 6,\n        md: 2,\n        lg: 2,\n        className: \"tot goRight\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 567,\n          columnNumber: 25\n        }\n      }, \"Q \", tot.toLocaleString('en-US', {\n        minimumFractionDigits: 2,\n        maximumFractionDigits: 2\n      })))), /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        spacing: 2,\n        justify: \"flex-end\",\n        className: \"padding-top-separation\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 576,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 2,\n        sm: 2,\n        md: 2,\n        lg: 2,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 577,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        className: \"pull-right\",\n        onClick: this.guardarPedido,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 578,\n          columnNumber: 25\n        }\n      }, \"Guardar\"))));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      if (nextProps.match.params.id !== prevState.id && nextProps.orders.length > 0 && nextProps.plants) {\n        var order = nextProps.orders.findIndex(function (x) {\n          return x.id === nextProps.match.params.id;\n        });\n        order = nextProps.orders[order];\n        var tra = nextProps.fletes.findIndex(function (x) {\n          return x.value === order.flete;\n        });\n        tra = nextProps.fletes[tra];\n        var pla = nextProps.plants.findIndex(function (x) {\n          return parseInt(x.value) === parseInt(order.planta);\n        });\n        pla = nextProps.plants[pla];\n        var id = nextProps.match.params.id;\n        var montoPorGalon = parseFloat(order.FleteXGalon).toLocaleString('en-US', {\n          minimumFractionDigits: 2,\n          maximumFractionDigits: 2\n        });\n        return {\n          fechaEntrega: new Date(order.fecha_carga + \" \" + order.HoraCarga),\n          fechaEntregaOriginal: new Date(order.fecha_carga + \" \" + order.HoraCarga),\n          id: id,\n          transporte: tra,\n          transporte_original: tra,\n          planta: pla,\n          planta_original: pla,\n          order: order,\n          montoPorGalon: montoPorGalon,\n          montoPorGalonOriginal: montoPorGalon\n        };\n      }\n\n      return null;\n    }\n  }]);\n\n  return Asignar;\n}(Component);\n\nexport default Asignar;","map":{"version":3,"sources":["/Users/yuukan/Documents/Projects/control-react/src/components/Asignar.js"],"names":["React","Component","Grid","Typography","FormControl","esLocale","DateFnsUtils","Button","swal","Select2","TextField","axios","MuiPickersUtilsProvider","KeyboardTimePicker","KeyboardDatePicker","Asignar","handleChange","bind","handleChangeSelect","handleDateChange","agregarDetalle","guardarPedido","delete","state","cliente","direccion","transporte","transporte_original","producto","compartimiento","fechaEntrega","fechaEntregaOriginal","tipoPago","fleteAplicado","montoPorGalon","montoPorGalonOriginal","cantidadCompartimientos","cantidad","detalle","exclusivo","exclusivoid","comentario","id","planta","planta_original","order","event","setState","target","name","value","idx","slice","splice","option","b","compartimientos","length","Compartimientos","parseInt","galones","row","label","color","push","date","hours","getHours","minutes","getMinutes","ampm","strTime","t_","t","post","props","url","diaEntrega","getDate","mesEntrega","getMonth","anioEntrega","getFullYear","hora","minutos","diaEntregaOriginal","mesEntregaOriginal","anioEntregaOriginal","horaOriginal","minutosOriginal","transporte_label","transporte_original_label","planta_label","planta_original_label","match","params","user","window","localStorage","getItem","then","load_orders","history","catch","error","console","log","orders","findIndex","x","Date","FechaCarga","HoraCarga","flete","fletes","conts","i","filled","product","height","CantidadGalones","Nombre","Color","style","backgroundColor","comentarios","map","key","da","created_at","formatAMPM","addresses","c","address","MailAddres","productos","p","tot","plants","CodigoCliente","tipo_pago","Direccion","FleteAplicado","__html","Comentarios","parseFloat","Precio","toFixed","subTotal","Compartimiento","IDP","toLocaleString","minimumFractionDigits","maximumFractionDigits","nextProps","prevState","tra","pla","FleteXGalon","fecha_carga"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport FormControl from '@material-ui/core/FormControl';\nimport esLocale from \"date-fns/locale/es\";\nimport DateFnsUtils from '@date-io/date-fns';\nimport Button from '@material-ui/core/Button';\nimport swal from 'sweetalert';\nimport Select2 from 'react-select';\nimport TextField from '@material-ui/core/TextField';\nimport axios from 'axios';\n\nimport {\n    MuiPickersUtilsProvider,\n    KeyboardTimePicker,\n    KeyboardDatePicker,\n} from '@material-ui/pickers';\n\n\nclass Asignar extends Component {\n\n    constructor() {\n        super();\n        this.handleChange = this.handleChange.bind(this);\n        this.handleChangeSelect = this.handleChangeSelect.bind(this);\n        this.handleDateChange = this.handleDateChange.bind(this);\n        this.agregarDetalle = this.agregarDetalle.bind(this);\n        this.guardarPedido = this.guardarPedido.bind(this);\n        this.delete = this.delete.bind(this);\n        this.state = {\n            cliente: null,\n            direccion: null,\n            transporte: null,\n            transporte_original: null,\n            producto: null,\n            compartimiento: null,\n            fechaEntrega: null,\n            fechaEntregaOriginal: null,\n            tipoPago: null,\n            fleteAplicado: 0,\n            montoPorGalon: 0,\n            montoPorGalonOriginal: 0,\n            cantidadCompartimientos: 0,\n            cantidad: 0,\n            detalle: [],\n            exclusivo: 0,\n            exclusivoid: 0,\n            comentario: \"\",\n            id: 0,\n            planta: null,\n            planta_original: null,\n            order: null\n        }\n    }\n\n    handleChange(event) {\n        this.setState({ [event.target.name]: event.target.value });\n    }\n\n    NoResults() {\n        return \"Sin Resultados\";\n    }\n\n    delete(idx) {\n        // console.log(idx);\n        let detalle = this.state.detalle.slice(0);\n        detalle.splice(idx, 1);\n        this.setState({ detalle, exclusivo: 0, exclusivoid: 0 });\n\n    }\n    //############################################################\n    handleChangeSelect(option, b) {\n\n        if (b.name === \"transporte\") {\n            // console.log(option.compartimientos.length, this.state.order.Compartimientos.length);\n            if (option.compartimientos.length < this.state.order.Compartimientos.length) {\n                swal(\"Error\", \"El transporte debe de tener la misma cantidad de compartimientos o más.\", \"error\");\n                return false;\n            }\n        }\n\n        this.setState({ [b.name]: option });\n\n        if (b.name === \"cliente\") {\n            this.setState({ direccion: null });\n        }\n\n        if (b.name === \"fleteAplicado\") {\n            this.setState({ transporte: null, compartimiento: null, detalle: [], exclusivo: 0, exclusivoid: 0 });\n        }\n    }\n\n    handleDateChange(fechaEntrega) {\n        this.setState({ fechaEntrega });\n    }\n\n    agregarDetalle() {\n        // We check if we have the compartments full\n        if (this.state.cantidadCompartimientos <= this.state.detalle.length && typeof this.fleteAplicado !== 'undefined' && this.fleteAplicado.value === 2) {\n            swal(\"Error\", \"Ya estan ocupados todos los compartimientos del Cisterna!\", \"error\");\n            return;\n        }\n        if (this.state.producto === \"\") {\n            swal(\"Error\", \"Debe de seleccionar un producto\", \"error\");\n            return;\n        }\n        if (this.state.cantidad === 0 || this.state.cantidad === \"\") {\n            swal(\"Error\", \"Debe agregar la cantidad\", \"error\");\n            return;\n        }\n        if (this.state.compartimiento === 0 && this.state.transporte) {\n            swal(\"Error\", \"Debe agregar el compartimiento\", \"error\");\n            return;\n        }\n        if (this.state.compartimiento) {\n            if (this.state.cantidad > parseInt(this.state.compartimiento.galones)) {\n                swal(\"Error\", \"El compartimiento no puede recibir más de \" + this.state.compartimiento.galones + \" galones\", \"error\");\n                return;\n            }\n        }\n        let row = [];\n        let exclusivo = 0, exclusivoid = 0;\n        if (this.state.compartimiento) {\n            row = [this.state.producto.value, this.state.cantidad, this.state.compartimiento.value, this.state.producto.label, this.state.producto.color];\n        } else {\n            row = [this.state.producto.value, this.state.cantidad, 0, this.state.producto.label, this.state.producto.color];\n        }\n        let detalle = this.state.detalle.splice(0);\n        detalle.push(row);\n\n        if (this.state.producto.exclusivo === \"si\") {\n            exclusivo = 1;\n            exclusivoid = this.state.producto.value;\n        } else {\n            exclusivo = 2;\n        }\n        this.setState({ detalle, producto: \"\", cantidad: 0, compartimiento: 0, exclusivo, exclusivoid });\n    }\n\n    formatAMPM(date) {\n        var hours = date.getHours();\n        var minutes = date.getMinutes();\n        var ampm = hours >= 12 ? 'pm' : 'am';\n        hours = hours % 12;\n        hours = hours ? hours : 12; // the hour '0' should be '12'\n        minutes = minutes < 10 ? '0' + minutes : minutes;\n        var strTime = hours + ':' + minutes + ' ' + ampm;\n        return strTime;\n    }\n\n    guardarPedido() {\n        let t_ = this;\n        let t = this.state;\n        axios.post(this.props.url + \"api/assign-order\", {\n            diaEntrega: (\"0\" + t.fechaEntrega.getDate()).slice(-2),\n            mesEntrega: (\"0\" + (t.fechaEntrega.getMonth() + 1)).slice(-2),\n            anioEntrega: t.fechaEntrega.getFullYear(),\n            hora: t.fechaEntrega.getHours(),\n            minutos: t.fechaEntrega.getMinutes(),\n            diaEntregaOriginal: (\"0\" + t.fechaEntregaOriginal.getDate()).slice(-2),\n            mesEntregaOriginal: (\"0\" + (t.fechaEntregaOriginal.getMonth() + 1)).slice(-2),\n            anioEntregaOriginal: t.fechaEntregaOriginal.getFullYear(),\n            horaOriginal: t.fechaEntregaOriginal.getHours(),\n            minutosOriginal: t.fechaEntregaOriginal.getMinutes(),\n            transporte: t.transporte.id,\n            transporte_original: t.transporte_original.id,\n            transporte_label: t.transporte.label,\n            transporte_original_label: t.transporte_original.label,\n            comentario: t.comentario,\n            planta: t.planta.value,\n            planta_original: t.planta_original.value,\n            planta_label: t.planta.label,\n            planta_original_label: t.planta_original.label,\n            id: this.props.match.params.id,\n            montoPorGalon: t.montoPorGalon,\n            montoPorGalonOriginal: t.montoPorGalonOriginal,\n            user: window.localStorage.getItem('tp_uid')\n        })\n            .then(function () {\n                // t.setState({ clientes: response.data });\n                t_.props.load_orders();\n                t_.props.history.push(\"/order-list\");\n            })\n            .catch(function (error) {\n                console.log(error);\n            });\n\n    }\n\n    static getDerivedStateFromProps(nextProps, prevState) {\n        if (nextProps.match.params.id !== prevState.id && nextProps.orders.length > 0 && nextProps.plants) {\n            let order = nextProps.orders.findIndex(x => x.id === nextProps.match.params.id);\n            order = nextProps.orders[order];\n\n            let tra = nextProps.fletes.findIndex(x => x.value === order.flete);\n            tra = nextProps.fletes[tra];\n\n            let pla = nextProps.plants.findIndex(x => parseInt(x.value) === parseInt(order.planta));\n            pla = nextProps.plants[pla];\n\n            let id = nextProps.match.params.id;\n\n            let montoPorGalon = parseFloat(order.FleteXGalon).toLocaleString('en-US', {\n                minimumFractionDigits: 2,\n                maximumFractionDigits: 2\n            });\n\n            return { fechaEntrega: new Date(order.fecha_carga + \" \" + order.HoraCarga), fechaEntregaOriginal: new Date(order.fecha_carga + \" \" + order.HoraCarga), id, transporte: tra, transporte_original: tra, planta: pla, planta_original: pla, order, montoPorGalon, montoPorGalonOriginal: montoPorGalon };\n        }\n        return null;\n    }\n\n    componentDidUpdate() {\n        if (this.props.match.params.id !== this.state.id && this.props.orders.length > 0) {\n            let order = this.props.orders.findIndex(x => x.id === this.props.match.params.id);\n            order = this.props.orders[order];\n            let id = this.props.match.params.id;\n\n            this.setState({ fechaEntrega: new Date(order.FechaCarga + \" \" + order.HoraCarga), id });\n        }\n    }\n\n    render() {\n\n        let order = null;\n        let flete = null;\n        if (this.props.orders) {\n            order = this.props.orders.findIndex(x => x.id === this.props.match.params.id);\n            order = this.props.orders[order];\n            if (typeof order !== \"undefined\") {\n                flete = this.props.fletes.findIndex(x => x.value === order.flete);\n                flete = this.props.fletes[flete];\n            }\n        }\n\n        let conts = [];\n\n        if (order && order.flete && flete) {\n            for (let i = 0; i < flete.compartimientos.length; i++) {\n                let filled = 0;\n                let product = \"\";\n                let height = 0;\n                let color = \"transparent\";\n                let CantidadGalones = flete.compartimientos[i].CantidadGalones;\n\n                if (typeof order.Compartimientos[i] !== \"undefined\") {\n                    product = order.Compartimientos[i].Nombre;\n                    color = order.Compartimientos[i].Color\n                    height = parseInt(order.Compartimientos[i].cantidad) / parseInt(CantidadGalones) * 100;\n                }\n\n                let style = {\n                    height: `${height}%`,\n                    backgroundColor: `#${color}`\n                };\n                conts.push(\n                    <div key={`cont${i}`} className={`cont cont${i + 1}`}>\n                        <div className=\"number\">{filled} / {CantidadGalones}</div>\n                        <div className=\"product\">{product}</div>\n                        <div className={`fill`} style={style}></div>\n                    </div>\n                );\n            }\n        }\n\n        let comentarios = \"\";\n        if (order && order.comentarios.length > 0) {\n            comentarios = order.comentarios.map((key, idx) => {\n                let da = new Date(key.created_at);\n                return (\n                    <li key={idx}\n                    >\n                        <div className=\"date\">\n                            {da.getDate()}/{da.getMonth()}/{da.getFullYear()} {this.formatAMPM(da)}\n                        </div>\n                        <div className=\"user\">\n                            {key.name}\n                        </div>\n                        <div className=\"comment\">\n                            {key.comentario}\n                        </div>\n                    </li>\n                );\n            });\n        }\n\n        // We build the addresses bar\n        let addresses = [];\n        let c = this.state.cliente;\n        if (c) {\n            if (c.address !== \"\") {\n                addresses.push({ value: c.address, label: c.address });\n            }\n            if (c.MailAddres !== \"\" && c.MailAddres !== c.address) {\n                addresses.push({ value: c.MailAddres, label: c.MailAddres });\n            }\n        }\n\n        // let tipos_pago = [\n        //     { value: 1, label: \"Contado\" },\n        //     { value: 2, label: \"Crédito\" }\n        // ];\n\n        // let flete_aplicado = [\n        //     { value: 1, label: \"Si\" },\n        //     { value: 2, label: \"No\" }\n        // ];\n\n        // #################################################\n        // Product Filters\n        // #################################################\n        let productos = \"\";\n        if (this.props.productos) productos = this.props.productos.slice(0);\n\n        if (this.state.exclusivo === 1) {\n            let p = [];\n            for (let i = 0; i < productos.length; i++) {\n                if (this.state.exclusivoid === productos[i].value) {\n                    p.push(productos[i]);\n                }\n            }\n            productos = p;\n        }\n\n        if (this.state.exclusivo === 2) {\n            let p = [];\n            for (let i = 0; i < productos.length; i++) {\n                if (productos[i].exclusivo === \"\") {\n                    p.push(productos[i]);\n                }\n            }\n            productos = p;\n        }\n\n        // #################################################\n        // Product Filters\n        // #################################################\n\n        let tot = 0;\n        return (\n            <div className=\"main-container\">\n                <Typography variant=\"h3\" component=\"h1\" gutterBottom>\n                    Asignar Horario\n                </Typography>\n                <div className=\"landing-container\">\n                    <Grid container spacing={2} justify=\"space-around\">\n                        <Grid item xs={12} sm={6} md={3} lg={3}>\n                            <MuiPickersUtilsProvider utils={DateFnsUtils} locale={esLocale}>\n                                <KeyboardDatePicker\n                                    margin=\"normal\"\n                                    className=\"full-width\"\n                                    id=\"mui-pickers-date\"\n                                    label=\"Fecha de Carga\"\n                                    value={this.state.fechaEntrega}\n                                    onChange={this.handleDateChange}\n                                    KeyboardButtonProps={{\n                                        'aria-label': 'change date',\n                                    }}\n                                />\n                            </MuiPickersUtilsProvider>\n                        </Grid>\n                        <Grid item xs={12} sm={6} md={3} lg={3}>\n                            <MuiPickersUtilsProvider utils={DateFnsUtils} locale={esLocale}>\n                                <KeyboardTimePicker\n                                    margin=\"normal\"\n                                    className=\"full-width\"\n                                    id=\"mui-pickers-time\"\n                                    label=\"Hora de Carga\"\n                                    ampm={false}\n                                    value={this.state.fechaEntrega}\n                                    onChange={this.handleDateChange}\n                                    KeyboardButtonProps={{\n                                        'aria-label': 'Cambiar hora',\n                                    }}\n                                />\n                            </MuiPickersUtilsProvider>\n                        </Grid>\n                        <Grid item xs={12} sm={6} md={3} lg={3}>\n                            <FormControl variant=\"outlined\" className=\"form-item margin-fix2\">\n                                <Select2\n                                    value={this.state.planta}\n                                    isSearchable={true}\n                                    onChange={this.handleChangeSelect}\n                                    name=\"planta\"\n                                    options={this.props.plants}\n                                    placeholder=\"*Seleccione una planta\"\n                                />\n                            </FormControl>\n                        </Grid>\n                        <Grid item xs={12} sm={6} md={3} lg={3}>\n                            <label className=\"label\">\n                                Cliente\n                            </label>\n                            {order ? order.CodigoCliente : \"\"}\n                        </Grid>\n                        <Grid item xs={12} sm={6} md={3} lg={3}>\n                            <label className=\"label\">\n                                Tipo de Pago\n                            </label>\n                            {order ? order.tipo_pago : \"\"}\n                        </Grid>\n                        <Grid item xs={12} sm={6} md={3} lg={3}>\n                            <label className=\"label\">\n                                Dirección\n                            </label>\n                            {order ? order.Direccion : \"\"}\n                        </Grid>\n                        <Grid item xs={12} sm={6} md={3} lg={3}>\n                            <FormControl variant=\"outlined\" className=\"form-item small\">\n                                <label className=\"label\">\n                                    Forma de carga\n                                </label>\n                                {order ? (order.FleteAplicado === \"1\" ? \"Ex Rack\" : \"Puesto en el lugar\") : \"\"}\n                            </FormControl>\n                            <FormControl variant=\"outlined\" className=\"form-item small\">\n                                <TextField\n                                    id=\"montoPorGalon\"\n                                    name=\"montoPorGalon\"\n                                    label=\"Monto por Galón\"\n                                    className=\"montoPorGalon\"\n                                    value={this.state.montoPorGalon}\n                                    onChange={this.handleChange}\n                                    margin=\"normal\"\n                                />\n                            </FormControl>\n                        </Grid>\n                        <Grid item xs={12} sm={6} md={3} lg={3}>\n                            <label className=\"label\">\n                                Transporte\n                            </label>\n                            <FormControl variant=\"outlined\" className=\"form-item\">\n                                <Select2\n                                    value={this.state.transporte}\n                                    isSearchable={true}\n                                    onChange={this.handleChangeSelect}\n                                    name=\"transporte\"\n                                    options={this.props.fletes}\n                                    placeholder=\"Transporte\"\n                                />\n                            </FormControl>\n                        </Grid>\n                        <Grid item xs={12} sm={6} md={6} lg={6}>\n                            <FormControl variant=\"outlined\" className=\"form-item\">\n                                <label className=\"label\">\n                                    Comentario\n                                </label>\n                                <div dangerouslySetInnerHTML={{ __html: order ? order.Comentarios : \"\" }} />\n                            </FormControl>\n                        </Grid>\n                        <Grid item xs={12} sm={6} md={6} lg={6}></Grid>\n                    </Grid>\n                </div>\n                <Typography variant=\"h4\" component=\"h2\" gutterBottom className=\"margin-separation\">\n                    Comentarios\n                </Typography>\n                <div className=\"landing-container padding-bottom-separation\">\n                    <Grid item xs={12} sm={12} md={12} lg={12}>\n                        <FormControl variant=\"outlined\" className=\"form-item\">\n                            <TextField\n                                name=\"comentario\"\n                                id=\"comentario\"\n                                label=\"Comentario\"\n                                multiline\n                                rowsMax=\"10\"\n                                value={this.state.comentario}\n                                onChange={this.handleChange}\n                                margin=\"normal\"\n                                ref={this.comentario}\n                            />\n                        </FormControl>\n                    </Grid>\n                    <Grid item xs={12} sm={12} md={12} lg={12}>\n                        <ul className=\"comentarios\">\n                            {comentarios}\n                        </ul>\n                    </Grid>\n                </div>\n                <Typography variant=\"h4\" component=\"h2\" gutterBottom className=\"margin-separation\">\n                    Detalle de Productos\n                </Typography>\n                <div className=\"landing-container padding-bottom-separation\">\n                    <Grid container spacing={2} justify=\"space-around\" className=\"padding-top-separation\">\n                        <Grid item xs={12} sm={6} md={6} lg={6}>\n                            <h3 className=\"transporte-title\">\n                                {flete ? flete.label : \"\"}\n                            </h3>\n                            <div className=\"cisterna\">\n                                <div className=\"cisterna-circle\">\n                                    {conts}\n                                </div>\n                            </div>\n                        </Grid>\n                    </Grid>\n                    <Grid container spacing={2} justify=\"space-around\" className=\"margin-separation\">\n                        <Grid item xs={12} sm={6} md={2} lg={2} className=\"th\">\n                            <strong>Producto</strong>\n                        </Grid>\n                        <Grid item xs={12} sm={6} md={1} lg={1} className=\"th goCenter\">\n                            <strong>Cantidad</strong>\n                        </Grid>\n                        <Grid item xs={12} sm={6} md={1} lg={1} className=\"th goCenter\">\n                            <strong>Compartimiento</strong>\n                        </Grid>\n                        <Grid item xs={12} sm={6} md={2} lg={2} className=\"th goRight\">\n                            <strong>Precio</strong>\n                        </Grid>\n                        <Grid item xs={12} sm={6} md={2} lg={2} className=\"th goRight\">\n                            <strong>IDP</strong>\n                        </Grid>\n                        <Grid item xs={12} sm={6} md={2} lg={2} className=\"th goRight\">\n                            <strong>IVA</strong>\n                        </Grid>\n                        <Grid item xs={12} sm={6} md={2} lg={2} className=\"th goRight\">\n                            <strong>Subtotal</strong>\n                        </Grid>\n                        {order && order.Compartimientos.length > 0\n                            ? order.Compartimientos.map((key, idx) => {\n                                tot += parseFloat((key.Precio * key.cantidad).toFixed(2));\n                                let subTotal = parseFloat((key.Precio * key.cantidad).toFixed(2));\n                                return (\n                                    <React.Fragment key={`p${idx}`}>\n                                        <Grid item xs={6} sm={6} md={2} lg={2} className=\"ch\">\n                                            <strong>Producto</strong>\n                                            {key.Nombre}\n                                        </Grid>\n                                        <Grid item xs={6} sm={6} md={1} lg={1} className=\"ch goRight\">\n                                            <strong>Cantidad</strong>\n                                            {key.cantidad}\n                                        </Grid>\n                                        <Grid item xs={6} sm={6} md={1} lg={1} className=\"ch goCenter\">\n                                            <strong>Compartimiento</strong>\n                                            {key.Compartimiento !== 0 ? key.Compartimiento : \"\"}\n                                        </Grid>\n                                        <Grid item xs={6} sm={6} md={2} lg={2} className=\"ch goRight\">\n                                            <strong>Precio</strong>\n                                            Q {key.Precio}\n                                        </Grid>\n                                        <Grid item xs={6} sm={6} md={2} lg={2} className=\"ch goRight\">\n                                            <strong>IDP</strong>\n                                            Q {key.IDP}\n                                        </Grid>\n                                        <Grid item xs={6} sm={6} md={2} lg={2} className=\"ch goRight\">\n                                            <strong>IVA</strong>\n                                            Q {(key.Precio - ((key.Precio - key.IDP) / 1.12)).toFixed(2)}\n                                        </Grid>\n                                        <Grid item xs={6} sm={6} md={2} lg={2} className=\"ch goRight\">\n                                            <strong>Subtotal</strong>\n                                            Q {subTotal.toLocaleString('en-US', {\n                                                minimumFractionDigits: 2,\n                                                maximumFractionDigits: 2\n                                            })}\n                                        </Grid>\n                                        <Grid item xs={6} sm={6} md={12} lg={12} className=\"mobile\">\n                                            &nbsp;\n                                    </Grid>\n                                        <Grid item xs={12} sm={12} md={12} lg={12} className=\"separator\">\n                                            &nbsp;\n                                    </Grid>\n                                    </React.Fragment>\n                                )\n                            })\n                            : \"\"}\n\n                        <Grid item xs={6} sm={6} md={10} lg={10} className=\"tot goRight\">\n                            <strong>Total</strong>\n                        </Grid>\n                        <Grid item xs={6} sm={6} md={2} lg={2} className=\"tot goRight\">\n                            Q {tot.toLocaleString('en-US', {\n                                minimumFractionDigits: 2,\n                                maximumFractionDigits: 2\n                            })}\n                        </Grid>\n\n                    </Grid>\n                </div>\n                <Grid container spacing={2} justify=\"flex-end\" className=\"padding-top-separation\">\n                    <Grid item xs={2} sm={2} md={2} lg={2}>\n                        <Button variant=\"contained\" color=\"primary\" className=\"pull-right\" onClick={this.guardarPedido}>\n                            Guardar\n                        </Button>\n                    </Grid>\n                </Grid>\n            </div>\n        );\n    }\n}\nexport default Asignar;"]},"metadata":{},"sourceType":"module"}