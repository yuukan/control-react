(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{109:function(e,a,t){e.exports=t(157)},114:function(e,a,t){},156:function(e,a,t){},157:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),i=t(9),r=t.n(i),s=(t(114),t(28)),o=t(21),c=t(31),m=t(29),d=t(32),u=t(11),h=t(216),g=t(217),p=t(58),E=t(219),f=function(e){function a(){var e;return Object(s.a)(this,a),(e=Object(c.a)(this,Object(m.a)(a).call(this))).login=e.login.bind(Object(u.a)(Object(u.a)(e))),e.state={email:!1},e.email=l.a.createRef(),e.password=l.a.createRef(),e}return Object(d.a)(a,e),Object(o.a)(a,[{key:"login",value:function(e){e.preventDefault(),this.props.changeLogged(!0)}},{key:"render",value:function(){return l.a.createElement("div",{className:"landing"},this.props.logged?l.a.createElement(E.a,{to:"/home"}):"",l.a.createElement("div",{className:"splash"},l.a.createElement("img",{src:"images/logo.png",alt:"Logo"}),l.a.createElement("div",{className:"email-form"},l.a.createElement("form",{onSubmit:this.login},l.a.createElement("input",{type:"text",placeholder:"Email",required:!0,ref:this.email}),l.a.createElement("input",{type:"password",placeholder:"Contrase\xf1a",required:!0,ref:this.password}),l.a.createElement("button",{type:"submit",className:"gohome"},l.a.createElement(p.a,{icon:"sign-in"}),l.a.createElement("span",null,"Ingresar"))))))}}]),a}(n.Component),v=t(200),b=t(202),C=t(67),x=t(91),O=t.n(x),j=t(203),N=t(220),S=t(206),y=t(94),k=t.n(y),D=t(207),w=t(208),P=t(209),A=t(210),I=t(221),L=t(204),G=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(c.a)(this,Object(m.a)(a).call(this,e))).handleDrawerClose=t.handleDrawerClose.bind(Object(u.a)(Object(u.a)(t))),t.handleDrawerOpen=t.handleDrawerOpen.bind(Object(u.a)(Object(u.a)(t))),t.state={selectedIndex:0,openDrawer:!1},t}return Object(d.a)(a,e),Object(o.a)(a,[{key:"handleDrawerClose",value:function(){this.setState({openDrawer:!1})}},{key:"handleDrawerOpen",value:function(){this.setState({openDrawer:!0})}},{key:"render",value:function(){return this.props.isLoggedIn?l.a.createElement(l.a.Fragment,null,l.a.createElement(v.a,{position:"static"},l.a.createElement(b.a,{className:"toolbar"},l.a.createElement(j.a,{edge:"start",color:"inherit","aria-label":"menu",onClick:this.handleDrawerOpen},l.a.createElement(O.a,null)),l.a.createElement(C.a,{variant:"h6"},"Control de Pedidos"),l.a.createElement(L.a,{color:"inherit"},"Salir"))),l.a.createElement(N.a,{variant:"persistent",anchor:"left",open:this.state.openDrawer},l.a.createElement("div",{className:"drawer-header"},l.a.createElement(j.a,{onClick:this.handleDrawerClose},l.a.createElement(k.a,null))),l.a.createElement(S.a,null),l.a.createElement(D.a,null,l.a.createElement(w.a,{button:!0,selected:0===this.state.selectedIndex},l.a.createElement(P.a,null,l.a.createElement(I.a,null)),l.a.createElement(A.a,{primary:"Solicitar Pedido"}))),l.a.createElement(S.a,null))):""}}]),a}(n.Component),M=t(75),B=t(211),R=t(212),F=t(76),U=t.n(F),T=t(77),q=t(214),J=t(46),K=t.n(J),H=t(33),V=t(51),Y=function(e){function a(){var e;return Object(s.a)(this,a),(e=Object(c.a)(this,Object(m.a)(a).call(this))).handleChange=e.handleChange.bind(Object(u.a)(Object(u.a)(e))),e.handleChangeSelect=e.handleChangeSelect.bind(Object(u.a)(Object(u.a)(e))),e.handleDateChange=e.handleDateChange.bind(Object(u.a)(Object(u.a)(e))),e.agregarDetalle=e.agregarDetalle.bind(Object(u.a)(Object(u.a)(e))),e.guardarPedido=e.guardarPedido.bind(Object(u.a)(Object(u.a)(e))),e.delete=e.delete.bind(Object(u.a)(Object(u.a)(e))),e.state={cliente:null,direccion:null,transporte:null,producto:null,compartimiento:null,fechaEntrega:new Date("2014-08-18T21:11:54"),tipoPago:1,fleteAplicado:0,montoPorGalon:0,cantidadCompartimientos:4,cantidad:0,detalle:[],exclusivo:0,exclusivoid:0},e}return Object(d.a)(a,e),Object(o.a)(a,[{key:"handleChange",value:function(e){this.setState(Object(M.a)({},e.target.name,e.target.value))}},{key:"NoResults",value:function(){return"Sin Resultados"}},{key:"delete",value:function(e){var a=this.state.detalle.slice(0);a.splice(e,1),this.setState({detalle:a,exclusivo:0,exclusivoid:0})}},{key:"handleChangeSelect",value:function(e,a){this.setState(Object(M.a)({},a.name,e)),"cliente"===a.name&&this.setState({direccion:null}),"transporte"===a.name&&this.setState({detalle:[],exclusivo:0,exclusivoid:0}),"fleteAplicado"===a.name&&this.setState({transporte:null,compartimiento:null,detalle:null,exclusivo:0,exclusivoid:0})}},{key:"handleDateChange",value:function(e){this.setState({fechaEntrega:e})}},{key:"agregarDetalle",value:function(){if(this.state.cantidadCompartimientos<=this.state.detalle.length)K()("Error","Ya estan ocupados todos los compartimientos del Cisterna!","error");else if(""!==this.state.producto)if(0!==this.state.cantidad&&""!==this.state.cantidad)if(0===this.state.compartimiento&&this.state.transporte)K()("Error","Debe agregar el compartimiento","error");else if(this.state.compartimiento&&this.state.cantidad>parseInt(this.state.compartimiento.galones))K()("Error","El compartimiento no puede recibir m\xe1s de "+this.state.compartimiento.galones+" galones","error");else{var e=[],a=0,t=0;e=this.state.compartimiento?[this.state.producto.value,this.state.cantidad,this.state.compartimiento.value,this.state.producto.label,this.state.producto.color]:[this.state.producto.value,this.state.cantidad,0,this.state.producto.label,this.state.producto.color];var n=this.state.detalle.splice(0);n.push(e),"si"===this.state.producto.exclusivo?(a=1,t=this.state.producto.value):a=2,this.setState({detalle:n,producto:"",cantidad:0,compartimiento:0,exclusivo:a,exclusivoid:t})}else K()("Error","Debe agregar la cantidad","error");else K()("Error","Debe de seleccionar un producto","error")}},{key:"guardarPedido",value:function(){}},{key:"render",value:function(){var e=this,a=[],t=this.state.detalle,n=this.state.transporte,i=[];if(n){for(var r=0;r<n.compartimientos.length;r++){for(var s="",o=0,c="",m="transparent",d=0;d<t.length;d++)if(r+1===t[d][2]){s="full",o=t[d][1],c=t[d][3],m=t[d][4];break}var u=parseInt(o)/parseInt(n.compartimientos[r].CantidadGalones)*100,h={height:"".concat(u,"%"),backgroundColor:"#".concat(m)};a.push(l.a.createElement("div",{key:"cont".concat(r),className:"cont cont".concat(r+1)},l.a.createElement("div",{className:"number"},o," / ",n.compartimientos[r].CantidadGalones),l.a.createElement("div",{className:"product"},c),l.a.createElement("div",{className:"fill ".concat(s),style:h})))}for(var g=0;g<n.compartimientos.length;g++){for(var E=!1,f=0;f<t.length;f++)g+1===t[f][2]&&(E=!0);E||i.push({value:g+1,label:g+1,galones:n.compartimientos[g].CantidadGalones})}}var v=[],b=this.state.cliente;b&&(""!==b.address&&v.push({value:b.address,label:b.address}),""!==b.MailAddres&&b.MailAddres!==b.address&&v.push({value:b.MailAddres,label:b.MailAddres}));var x="";if(this.props.productos&&(x=this.props.productos.slice(0)),1===this.state.exclusivo){for(var O=[],j=0;j<x.length;j++)this.state.exclusivoid===x[j].value&&O.push(x[j]);x=O}if(2===this.state.exclusivo){for(var N=[],S=0;S<x.length;S++)""===x[S].exclusivo&&N.push(x[S]);x=N}return l.a.createElement("div",{className:"main-container"},l.a.createElement(C.a,{variant:"h3",component:"h1",gutterBottom:!0},"Solicitud de Pedido"),l.a.createElement("div",{className:"landing-container"},l.a.createElement(B.a,{container:!0,spacing:2,justify:"space-around"},l.a.createElement(B.a,{item:!0,xs:12,sm:6,md:6,lg:3},l.a.createElement(R.a,{variant:"outlined",className:"form-item margin-fix2"},l.a.createElement(H.a,{value:this.state.cliente,onChange:this.handleChangeSelect,name:"cliente",options:this.props.clientes,placeholder:"Seleccione un cliente"}))),l.a.createElement(B.a,{item:!0,xs:12,sm:6,md:6,lg:3},l.a.createElement(V.c,{utils:T.a,locale:U.a},l.a.createElement(V.a,{margin:"normal",className:"full-width",id:"mui-pickers-date",label:"Fecha de Entrega",value:this.state.fechaEntrega,onChange:this.handleDateChange,KeyboardButtonProps:{"aria-label":"change date"}}))),l.a.createElement(B.a,{item:!0,xs:12,sm:6,md:6,lg:3},l.a.createElement(V.c,{utils:T.a,locale:U.a},l.a.createElement(V.b,{margin:"normal",className:"full-width",id:"mui-pickers-time",label:"Hora de Carga",value:this.state.fechaEntrega,onChange:this.handleDateChange,KeyboardButtonProps:{"aria-label":"Cambiar hora"}}))),l.a.createElement(B.a,{item:!0,xs:12,sm:6,md:6,lg:3},l.a.createElement(R.a,{variant:"outlined",className:"form-item margin-fix2"},l.a.createElement(H.a,{value:this.state.tipoPago,onChange:this.handleChangeSelect,name:"tipoPago",options:[{value:1,label:"Contado"},{value:2,label:"Cr\xe9dito"}],placeholder:"Tipo de Pago"}))),l.a.createElement(B.a,{item:!0,xs:12,sm:6,md:6,lg:3},l.a.createElement(R.a,{variant:"outlined",className:"form-item margin-fix2"},l.a.createElement(H.a,{value:this.state.direccion,onChange:this.handleChangeSelect,name:"direccion",options:v,placeholder:"Seleccione una Direcci\xf3n"}))),l.a.createElement(B.a,{item:!0,xs:12,sm:6,md:6,lg:3},l.a.createElement(R.a,{variant:"outlined",className:"form-item margin-fix2 small"},l.a.createElement(H.a,{value:this.state.fleteAplicado,onChange:this.handleChangeSelect,name:"fleteAplicado",options:[{value:1,label:"Si"},{value:2,label:"No"}],placeholder:"Flete"})),1===this.state.fleteAplicado.value?l.a.createElement(q.a,{id:"montoPorGalon",name:"montoPorGalon",label:"Monto por Gal\xf3n",className:"montoPorGalon",value:this.state.montoPorGalon,onChange:this.handleChange,margin:"normal"}):""),l.a.createElement(B.a,{item:!0,xs:12,sm:6,md:6,lg:3},1===this.state.fleteAplicado.value?l.a.createElement(R.a,{variant:"outlined",className:"form-item margin-fix2"},l.a.createElement(H.a,{value:this.state.transporte,onChange:this.handleChangeSelect,name:"transporte",options:this.props.fletes,placeholder:"Seleccione un Transporte"})):""),l.a.createElement(B.a,{item:!0,xs:12,sm:6,md:6,lg:3}),l.a.createElement(B.a,{item:!0,xs:12,sm:6,md:6,lg:6},l.a.createElement(R.a,{variant:"outlined",className:"form-item"},l.a.createElement(q.a,{name:"descripcion",label:"Comentario",multiline:!0,rowsMax:"10",defaultValue:"",margin:"normal"}))),l.a.createElement(B.a,{item:!0,xs:12,sm:6,md:6,lg:6}))),l.a.createElement(C.a,{variant:"h4",component:"h2",gutterBottom:!0,className:"margin-separation"},"Detalle de Productos"),l.a.createElement("div",{className:"landing-container padding-bottom-separation"},1===this.state.fleteAplicado.value&&this.state.transporte?l.a.createElement(B.a,{container:!0,spacing:2,justify:"space-around",className:"padding-top-separation"},l.a.createElement(B.a,{item:!0,xs:12,sm:6,md:6,lg:6},l.a.createElement("h3",{className:"transporte-title"},this.state.transporte.label),l.a.createElement("div",{className:"cisterna"},l.a.createElement("div",{className:"cisterna-circle"},a)))):"",l.a.createElement(B.a,{container:!0,spacing:2,justify:"space-around",className:"margin-separation"},l.a.createElement(B.a,{item:!0,xs:12,sm:6,md:6,lg:3},l.a.createElement(R.a,{variant:"outlined",className:"form-item margin-fix2"},l.a.createElement(H.a,{value:this.state.producto,onChange:this.handleChangeSelect,name:"producto",options:x,placeholder:"Seleccione un producto"}))),l.a.createElement(B.a,{item:!0,xs:12,sm:6,md:6,lg:3},l.a.createElement(q.a,{id:"cantidad",name:"cantidad",label:"Cantidad",className:"full-width",value:this.state.cantidad,onChange:this.handleChange,margin:"normal"})),l.a.createElement(B.a,{item:!0,xs:12,sm:6,md:6,lg:3},1===this.state.fleteAplicado.value&&this.state.transporte?l.a.createElement(R.a,{variant:"outlined",className:"form-item margin-fix2"},l.a.createElement(H.a,{value:this.state.compartimiento,onChange:this.handleChangeSelect,name:"compartimiento",options:i,placeholder:"Compartimiento",noOptionsMessage:this.NoResults})):""),l.a.createElement(B.a,{item:!0,xs:12,sm:6,md:6,lg:3},l.a.createElement(L.a,{variant:"contained",color:"secondary",className:"margin-fix",onClick:this.agregarDetalle},"Agregar")),t&&t.length>0?t.map(function(a,t){return l.a.createElement(l.a.Fragment,{key:"p".concat(t)},l.a.createElement(B.a,{item:!0,xs:12,sm:6,md:6,lg:3},a[3]),l.a.createElement(B.a,{item:!0,xs:12,sm:6,md:6,lg:3},a[1]),l.a.createElement(B.a,{item:!0,xs:12,sm:6,md:6,lg:3},0!==a[2]?a[2]:""),l.a.createElement(B.a,{item:!0,xs:12,sm:6,md:6,lg:3},l.a.createElement(L.a,{variant:"contained",color:"secondary",onClick:function(){return e.delete(t)}},l.a.createElement(p.a,{icon:"trash"}))))}):"")),l.a.createElement(B.a,{container:!0,spacing:2,justify:"flex-end",className:"padding-top-separation"},l.a.createElement(B.a,{item:!0,xs:2,sm:2,md:2,lg:2},l.a.createElement(L.a,{variant:"contained",color:"primary",className:"pull-right",onClick:this.guardarPedido},"Guardar Pedido"))))}}]),a}(n.Component),z=t(66),Q=t.n(z),W=(t(156),t(49)),X=t(47);W.b.add(X.a,X.c,X.b,X.e,X.d);var Z="http://192.168.0.7:81/control/public/",$=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(c.a)(this,Object(m.a)(a).call(this,e))).changeLogged=t.changeLogged.bind(Object(u.a)(Object(u.a)(t))),t.state={logged:!1,clientes:null,productos:null,fletes:null},t}return Object(d.a)(a,e),Object(o.a)(a,[{key:"changeLogged",value:function(e){this.setState({logged:e})}},{key:"componentDidMount",value:function(){var e=this;Q.a.post(Z+"api/get-clients").then(function(a){e.setState({clientes:a.data})}).catch(function(e){console.log(e)}),Q.a.post(Z+"api/get-products").then(function(a){e.setState({productos:a.data})}).catch(function(e){console.log(e)}),Q.a.post(Z+"api/get-fletes").then(function(a){e.setState({fletes:a.data})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this;return l.a.createElement(h.a,null,l.a.createElement("div",{id:"main"},l.a.createElement(G,{isLoggedIn:this.state.logged}),l.a.createElement(g.a,{exact:!0,path:"/",render:function(a){return l.a.createElement(f,Object.assign({},a,{url:Z,logged:e.state.logged,changeLogged:e.changeLogged,setUserInfo:e.setUserInfo,clientes:e.state.clientes,productos:e.state.productos,fletes:e.state.fletes}))}}),l.a.createElement(g.a,{path:"/home",render:function(a){return l.a.createElement(Y,Object.assign({},a,{url:Z,logged:e.state.logged,changeLogged:e.changeLogged,setUserInfo:e.setUserInfo,clientes:e.state.clientes,productos:e.state.productos,fletes:e.state.fletes}))}})))}}]),a}(n.Component);r.a.render(l.a.createElement($,null),document.getElementById("root"))}},[[109,1,2]]]);
//# sourceMappingURL=main.64773fe6.chunk.js.map